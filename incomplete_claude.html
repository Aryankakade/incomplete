# Part 1
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOVA-AI | Next-Generation AI Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }
        
        body {
            background: #0a0a0f;
            color: #ffffff;
            overflow-x: hidden;
        }
        
        /* Animated Background */
        .cosmic-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, #1a1a2e 0%, #16213e 30%, #0f0f23 70%, #000000 100%);
            z-index: -2;
        }
        
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffffff;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        /* Floating Orbs */
        .floating-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(2px);
            animation: float 20s infinite linear;
        }
        
        .orb-1 {
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(0, 255, 255, 0.3) 0%, transparent 70%);
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }
        
        .orb-2 {
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, rgba(138, 43, 226, 0.3) 0%, transparent 70%);
            top: 60%;
            right: 15%;
            animation-delay: 7s;
        }
        
        .orb-3 {
            width: 120px;
            height: 120px;
            background: radial-gradient(circle, rgba(0, 191, 255, 0.2) 0%, transparent 70%);
            bottom: 30%;
            left: 5%;
            animation-delay: 14s;
        }
        
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(100px, -100px) rotate(120deg); }
            66% { transform: translate(-50px, 50px) rotate(240deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }
        
        /* Page Container */
        .page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1;
            overflow-y: auto;
        }
        
        .page.active {
            opacity: 1;
            visibility: visible;
            z-index: 2;
        }
        
        /* Main Container */
        .main-container {
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 255, 0.2);
            box-shadow: 
                0 0 60px rgba(0, 255, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            position: relative;
            overflow: hidden;
        }
        
        .main-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.8), transparent);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Logo Container */
        .logo-container {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto 2rem;
            background: linear-gradient(135deg, #00ffff, #8a2be2);
            border-radius: 24px;
            padding: 3px;
            animation: glow-pulse 4s ease-in-out infinite;
        }
        
        .logo-inner {
            width: 100%;
            height: 100%;
            background: #0a0a0f;
            border-radius: 21px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: 900;
            color: #00ffff;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }
        
        @keyframes glow-pulse {
            0%, 100% { 
                box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 0 50px rgba(0, 255, 255, 0.6);
                transform: scale(1.05);
            }
        }
        
        /* Auth Buttons */
        .auth-btn, .nova-btn {
            position: relative;
            width: 100%;
            padding: 16px 24px;
            border: 2px solid transparent;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
            overflow: hidden;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            cursor: pointer;
        }
        
        .auth-btn::before, .nova-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .auth-btn:hover::before, .nova-btn:hover::before {
            left: 100%;
        }
        
        .google-btn {
            background: linear-gradient(135deg, #ffffff, #f0f0f0);
            color: #333;
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        .google-btn:hover {
            background: linear-gradient(135deg, #f8f8f8, #e8e8e8);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .github-btn {
            background: linear-gradient(135deg, #24292e, #1a1e22);
            color: #ffffff;
            border-color: rgba(0, 255, 255, 0.3);
        }
        
        .github-btn:hover {
            background: linear-gradient(135deg, #2f363d, #24292e);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.2);
        }
        
        .nova-btn-primary {
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            border-color: rgba(0, 255, 255, 0.5);
        }
        
        .nova-btn-primary:hover {
            background: linear-gradient(135deg, #00e6e6, #0066cc);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
        }
        
        .nova-btn-secondary {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.8), rgba(138, 43, 226, 0.6));
            color: #ffffff;
            border-color: rgba(138, 43, 226, 0.5);
        }
        
        .nova-btn-secondary:hover {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.9), rgba(138, 43, 226, 0.7));
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(138, 43, 226, 0.3);
        }
        
        /* Form Elements */
        .nova-input {
            width: 100%;
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 16px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .nova-input:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.08);
        }
        
        .nova-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        /* Agent Cards */
        .agent-card {
            background: rgba(16, 16, 24, 0.8);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 20px;
            padding: 24px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .agent-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .agent-card:hover::before {
            left: 100%;
        }
        
        .agent-card:hover {
            transform: translateY(-8px);
            border-color: rgba(0, 255, 255, 0.6);
            box-shadow: 0 20px 40px rgba(0, 255, 255, 0.2);
        }
        
        .agent-card.selected {
            border-color: rgba(0, 255, 255, 0.8);
            background: rgba(0, 255, 255, 0.1);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }
        
        .agent-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 16px;
            background: linear-gradient(135deg, #00ffff, #8a2be2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #000;
            font-weight: bold;
        }
        
        /* Chat Interface */
        .chat-container {
            height: 100vh;
            display: flex;
            background: rgba(10, 10, 15, 0.95);
        }
        
        .chat-sidebar {
            width: 300px;
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(0, 255, 255, 0.2);
            padding: 20px;
            overflow-y: auto;
        }
        
        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .chat-header {
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .chat-input-container {
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(0, 255, 255, 0.2);
            padding: 20px;
        }
        
        .message {
            max-width: 80%;
            padding: 16px 20px;
            border-radius: 20px;
            position: relative;
            animation: fadeInUp 0.3s ease;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .message.user {
            align-self: flex-end;
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            margin-left: auto;
        }
        
        .message.bot {
            align-self: flex-start;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 255, 255, 0.2);
            color: #ffffff;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .chat-input {
            width: 100%;
            padding: 16px 60px 16px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 25px;
            color: #ffffff;
            font-size: 16px;
            resize: none;
            min-height: 50px;
            max-height: 150px;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
        }
        
        .chat-actions {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 8px;
        }
        
        .action-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(0, 255, 255, 0.2);
            border: none;
            color: #00ffff;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .action-btn:hover {
            background: rgba(0, 255, 255, 0.4);
            transform: scale(1.1);
        }
        
        /* Typewriter Effect */
        .typewriter {
            border-right: 2px solid rgba(0, 255, 255, 0.8);
            white-space: nowrap;
            overflow: hidden;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: rgba(0, 255, 255, 0.8); }
        }
        
        /* Loading Animation */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .loading-content {
            text-align: center;
            color: #00ffff;
        }
        
        .spinner {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(0, 255, 255, 0.3);
            border-top: 3px solid #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Success Animation */
        .success-check {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid #00ff88;
            margin: 0 auto 20px;
            position: relative;
            animation: pulse-green 1.5s ease-in-out infinite;
        }
        
        .success-check::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #00ff88;
            font-size: 2rem;
            font-weight: bold;
        }
        
        @keyframes pulse-green {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 136, 0.3); }
            50% { box-shadow: 0 0 40px rgba(0, 255, 136, 0.6); }
        }
        
        /* History Item */
        .history-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(0, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .history-item:hover {
            background: rgba(0, 255, 255, 0.05);
            border-color: rgba(0, 255, 255, 0.3);
        }
        
        /* Status indicators */
        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #00ff88;
            animation: pulse 2s infinite;
            margin-right: 8px;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Floating Menu Button */
        .floating-menu-btn {
            position: fixed;
            top: 30px;
            left: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00ffff, #8a2be2);
            color: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .floating-menu-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
        }
        
        .floating-menu {
            position: fixed;
            top: 100px;
            left: 30px;
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 15px;
            padding: 15px;
            display: none;
            flex-direction: column;
            gap: 10px;
            z-index: 99;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .floating-menu.active {
            display: flex;
        }
        
        .menu-item {
            padding: 12px 20px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #ffffff;
            text-decoration: none;
        }
        
        .menu-item:hover {
            background: rgba(0, 255, 255, 0.1);
        }
        
        /* GitHub Analysis Page */
        .github-analysis {
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .github-input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .github-input {
            flex: 1;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 16px;
        }
        
        .github-input:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
        }
        
        .analyze-btn {
            padding: 16px 24px;
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .analyze-btn:hover {
            background: linear-gradient(135deg, #00e6e6, #0066cc);
        }
        
        .github-results {
            background: rgba(16, 16, 24, 0.8);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }
        
        .result-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #00ffff;
        }
        
        .result-content {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            white-space: pre-wrap;
            overflow-x: auto;
            font-size: 14px;
            line-height: 1.5;
        }
        
        /* File Upload Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal {
            background: rgba(16, 16, 24, 0.95);
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(0, 255, 255, 0.3);
            box-shadow: 0 0 40px rgba(0, 255, 255, 0.2);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: #00ffff;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: #ffffff;
            font-size: 24px;
            cursor: pointer;
        }
        
        .file-preview {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .file-icon {
            font-size: 60px;
            color: #00ffff;
            margin-bottom: 10px;
        }
        
        .file-name {
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .file-size {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .upload-prompt {
            width: 100%;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 16px;
            margin-bottom: 20px;
            min-height: 100px;
            resize: vertical;
        }
        
        .upload-prompt:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
        }
        
        .upload-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .upload-btn:hover {
            background: linear-gradient(135deg, #00e6e6, #0066cc);
        }
        
        .upload-btn:disabled {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
            cursor: not-allowed;
        }
        
        /* Dashboard Cards */
        .dashboard-card {
            background: rgba(16, 16, 24, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: 800;
            color: #00ffff;
        }
        
        .settings-option {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;

        }
    # part 2 
    <!-- PAGE 5: Dashboard -->
    <div id="page5" class="page">
        <div class="min-h-screen p-6">
            <div class="max-w-7xl mx-auto">
                <!-- Header -->
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-3xl font-black mb-2 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent">
                            Your NOVA Dashboard
                        </h1>
                        <p class="text-gray-400">Insights and analytics about your NOVA usage</p>
                    </div>
                    <button class="nova-btn nova-btn-secondary" id="dashboardBackBtn">
                        <i class="fas fa-arrow-left mr-2"></i>Back to Chat
                    </button>
                </div>
                
                <!-- Stats Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="dashboard-card">
                        <div class="text-gray-400 mb-2">Total Chats</div>
                        <div class="stat-number" id="totalChats">0</div>
                        <div class="text-xs text-gray-500 mt-2">Conversations with NOVA</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="text-gray-400 mb-2">Favorite Agent</div>
                        <div class="stat-number" id="favoriteAgent">General</div>
                        <div class="text-xs text-gray-500 mt-2">Most used specialist</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="text-gray-400 mb-2">Files Processed</div>
                        <div class="stat-number" id="filesProcessed">0</div>
                        <div class="text-xs text-gray-500 mt-2">Documents analyzed</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="text-gray-400 mb-2">Voice Usage</div>
                        <div class="stat-number" id="voiceUsage">0%</div>
                        <div class="text-xs text-gray-500 mt-2">Voice interactions</div>
                    </div>
                </div>
                
                <!-- Recent Activity -->
                <div class="dashboard-card">
                    <h3 class="text-lg font-semibold text-white mb-4">Recent Activity</h3>
                    <div id="recentActivity" class="space-y-3">
                        <div class="text-gray-400">No recent activity</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PAGE 6: Settings -->
    <div id="page6" class="page">
        <div class="min-h-screen p-6">
            <div class="max-w-4xl mx-auto">
                <!-- Header -->
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-3xl font-black mb-2 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent">
                            Settings
                        </h1>
                        <p class="text-gray-400">Customize your NOVA experience</p>
                    </div>
                    <button class="nova-btn nova-btn-secondary" id="settingsBackBtn">
                        <i class="fas fa-arrow-left mr-2"></i>Back to Chat
                    </button>
                </div>
                
                <!-- Profile Settings -->
                <div class="dashboard-card mb-8">
                    <h3 class="text-xl font-semibold text-white mb-6 flex items-center gap-2">
                        <i class="fas fa-user text-cyan-400"></i>
                        <span>Profile Settings</span>
                    </h3>
                    
                    <div class="space-y-6">
                        <div class="settings-option">
                            <label class="block text-sm font-medium text-cyan-400 mb-2">
                                <i class="fas fa-user-circle mr-2"></i>Display Name
                            </label>
                            <input type="text" class="nova-input" id="settingsDisplayName">
                        </div>
                        
                        <div class="settings-option">
                            <label class="block text-sm font-medium text-cyan-400 mb-2">
                                <i class="fas fa-envelope mr-2"></i>Email Address
                            </label>
                            <input type="email" class="nova-input" id="settingsEmail" disabled>
                        </div>
                        
                        <div class="settings-option">
                            <label class="block text-sm font-medium text-cyan-400 mb-2">
                                <i class="fas fa-calendar mr-2"></i>Age
                            </label>
                            <input type="number" class="nova-input" id="settingsAge">
                        </div>
                        
                        <div class="settings-option">
                            <label class="block text-sm font-medium text-cyan-400 mb-2">
                                <i class="fas fa-briefcase mr-2"></i>Role
                            </label>
                            <input type="text" class="nova-input" id="settingsRole">
                        </div>
                        
                        <button class="nova-btn nova-btn-primary w-full" id="saveProfileBtn">
                            <i class="fas fa-save mr-2"></i>Save Changes
                        </button>
                    </div>
                </div>
                
                <!-- App Preferences -->
                <div class="dashboard-card mb-8">
                    <h3 class="text-xl font-semibold text-white mb-6 flex items-center gap-2">
                        <i class="fas fa-cog text-blue-400"></i>
                        <span>App Preferences</span>
                    </h3>
                    
                    <div class="space-y-4">
                        <div class="flex justify-between items-center settings-option">
                            <div>
                                <div class="font-medium text-white">Dark Mode</div>
                                <div class="text-xs text-gray-400">Toggle between dark and light theme</div>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        
                        <div class="flex justify-between items-center settings-option">
                            <div>
                                <div class="font-medium text-white">Voice Input</div>
                                <div class="text-xs text-gray-400">Enable voice commands</div>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOVA-AI | Next-Generation AI Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }
        
        body {
            background: #0a0a0f;
            color: #ffffff;
            overflow-x: hidden;
        }
        
        /* Animated Background */
        .cosmic-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, #1a1a2e 0%, #16213e 30%, #0f0f23 70%, #000000 100%);
            z-index: -2;
        }
        
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffffff;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        /* Floating Orbs */
        .floating-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(2px);
            animation: float 20s infinite linear;
        }
        
        .orb-1 {
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(0, 255, 255, 0.3) 0%, transparent 70%);
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }
        
        .orb-2 {
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, rgba(138, 43, 226, 0.3) 0%, transparent 70%);
            top: 60%;
            right: 15%;
            animation-delay: 7s;
        }
        
        .orb-3 {
            width: 120px;
            height: 120px;
            background: radial-gradient(circle, rgba(0, 191, 255, 0.2) 0%, transparent 70%);
            bottom: 30%;
            left: 5%;
            animation-delay: 14s;
        }
        
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(100px, -100px) rotate(120deg); }
            66% { transform: translate(-50px, 50px) rotate(240deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }
        
        /* Page Container */
        .page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1;
            overflow-y: auto;
        }
        
        .page.active {
            opacity: 1;
            visibility: visible;
            z-index: 2;
        }
        
        /* Main Container */
        .main-container {
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 255, 0.2);
            box-shadow: 
                0 0 60px rgba(0, 255, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            position: relative;
            overflow: hidden;
        }
        
        .main-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.8), transparent);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Logo Container */
        .logo-container {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto 2rem;
            background: linear-gradient(135deg, #00ffff, #8a2be2);
            border-radius: 24px;
            padding: 3px;
            animation: glow-pulse 4s ease-in-out infinite;
        }
        
        .logo-inner {
            width: 100%;
            height: 100%;
            background: #0a0a0f;
            border-radius: 21px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: 900;
            color: #00ffff;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }
        
        @keyframes glow-pulse {
            0%, 100% { 
                box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 0 50px rgba(0, 255, 255, 0.6);
                transform: scale(1.05);
            }
        }
        
        /* Auth Buttons */
        .auth-btn, .nova-btn {
            position: relative;
            width: 100%;
            padding: 16px 24px;
            border: 2px solid transparent;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
            overflow: hidden;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            cursor: pointer;
        }
        
        .auth-btn::before, .nova-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .auth-btn:hover::before, .nova-btn:hover::before {
            left: 100%;
        }
        
        .google-btn {
            background: linear-gradient(135deg, #ffffff, #f0f0f0);
            color: #333;
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        .google-btn:hover {
            background: linear-gradient(135deg, #f8f8f8, #e8e8e8);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .github-btn {
            background: linear-gradient(135deg, #24292e, #1a1e22);
            color: #ffffff;
            border-color: rgba(0, 255, 255, 0.3);
        }
        
        .github-btn:hover {
            background: linear-gradient(135deg, #2f363d, #24292e);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.2);
        }
        
        .nova-btn-primary {
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            border-color: rgba(0, 255, 255, 0.5);
        }
        
        .nova-btn-primary:hover {
            background: linear-gradient(135deg, #00e6e6, #0066cc);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
        }
        
        .nova-btn-secondary {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.8), rgba(138, 43, 226, 0.6));
            color: #ffffff;
            border-color: rgba(138, 43, 226, 0.5);
        }
        
        .nova-btn-secondary:hover {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.9), rgba(138, 43, 226, 0.7));
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(138, 43, 226, 0.3);
        }
        
        /* Form Elements */
        .nova-input {
            width: 100%;
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 16px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .nova-input:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.08);
        }
        
        .nova-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        /* Agent Cards */
        .agent-card {
            background: rgba(16, 16, 24, 0.8);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 20px;
            padding: 24px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .agent-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .agent-card:hover::before {
            left: 100%;
        }
        
        .agent-card:hover {
            transform: translateY(-8px);
            border-color: rgba(0, 255, 255, 0.6);
            box-shadow: 0 20px 40px rgba(0, 255, 255, 0.2);
        }
        
        .agent-card.selected {
            border-color: rgba(0, 255, 255, 0.8);
            background: rgba(0, 255, 255, 0.1);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }
        
        .agent-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 16px;
            background: linear-gradient(135deg, #00ffff, #8a2be2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #000;
            font-weight: bold;
        }
        
        /* Chat Interface */
        .chat-container {
            height: 100vh;
            display: flex;
            background: rgba(10, 10, 15, 0.95);
        }
        
        .chat-sidebar {
            width: 300px;
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(0, 255, 255, 0.2);
            padding: 20px;
            overflow-y: auto;
        }
        
        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .chat-header {
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .chat-input-container {
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(0, 255, 255, 0.2);
            padding: 20px;
        }
        
        .message {
            max-width: 80%;
            padding: 16px 20px;
            border-radius: 20px;
            position: relative;
            animation: fadeInUp 0.3s ease;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .message.user {
            align-self: flex-end;
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            margin-left: auto;
        }
        
        .message.bot {
            align-self: flex-start;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 255, 255, 0.2);
            color: #ffffff;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .chat-input {
            width: 100%;
            padding: 16px 60px 16px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 25px;
            color: #ffffff;
            font-size: 16px;
            resize: none;
            min-height: 50px;
            max-height: 150px;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
        }
        
        .chat-actions {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 8px;
        }
        
        .action-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(0, 255, 255, 0.2);
            border: none;
            color: #00ffff;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .action-btn:hover {
            background: rgba(0, 255, 255, 0.4);
            transform: scale(1.1);
        }
        
        /* Typewriter Effect */
        .typewriter {
            border-right: 2px solid rgba(0, 255, 255, 0.8);
            white-space: nowrap;
            overflow: hidden;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: rgba(0, 255, 255, 0.8); }
        }
        
        /* Loading Animation */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .loading-content {
            text-align: center;
            color: #00ffff;
        }
        
        .spinner {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(0, 255, 255, 0.3);
            border-top: 3px solid #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Success Animation */
        .success-check {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid #00ff88;
            margin: 0 auto 20px;
            position: relative;
            animation: pulse-green 1.5s ease-in-out infinite;
        }
        
        .success-check::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #00ff88;
            font-size: 2rem;
            font-weight: bold;
        }
        
        @keyframes pulse-green {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 136, 0.3); }
            50% { box-shadow: 0 0 40px rgba(0, 255, 136, 0.6); }
        }
        
        /* History Item */
        .history-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(0, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .history-item:hover {
            background: rgba(0, 255, 255, 0.05);
            border-color: rgba(0, 255, 255, 0.3);
        }
        
        /* Status indicators */
        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #00ff88;
            animation: pulse 2s infinite;
            margin-right: 8px;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Floating Menu Button */
        .floating-menu-btn {
            position: fixed;
            top: 30px;
            left: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00ffff, #8a2be2);
            color: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .floating-menu-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
        }
        
        .floating-menu {
            position: fixed;
            top: 100px;
            left: 30px;
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 15px;
            padding: 15px;
            display: none;
            flex-direction: column;
            gap: 10px;
            z-index: 99;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .floating-menu.active {
            display: flex;
        }
        
        .menu-item {
            padding: 12px 20px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #ffffff;
            text-decoration: none;
        }
        
        .menu-item:hover {
            background: rgba(0, 255, 255, 0.1);
        }
        
        /* GitHub Analysis Page */
        .github-analysis {
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .github-input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .github-input {
            flex: 1;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 16px;
        }
        
        .github-input:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
        }
        
        .analyze-btn {
            padding: 16px 24px;
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .analyze-btn:hover {
            background: linear-gradient(135deg, #00e6e6, #0066cc);
        }
        
        .github-results {
            background: rgba(16, 16, 24, 0.8);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }
        
        .result-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #00ffff;
        }
        
        .result-content {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            white-space: pre-wrap;
            overflow-x: auto;
            font-size: 14px;
            line-height: 1.5;
        }
        
        /* File Upload Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal {
            background: rgba(16, 16, 24, 0.95);
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(0, 255, 255, 0.3);
            box-shadow: 0 0 40px rgba(0, 255, 255, 0.2);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: #00ffff;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: #ffffff;
            font-size: 24px;
            cursor: pointer;
        }
        
        .file-preview {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .file-icon {
            font-size: 60px;
            color: #00ffff;
            margin-bottom: 10px;
        }
        
        .file-name {
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .file-size {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .upload-prompt {
            width: 100%;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 16px;
            margin-bottom: 20px;
            min-height: 100px;
            resize: vertical;
        }
        
        .upload-prompt:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
        }
        
        .upload-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .upload-btn:hover {
            background: linear-gradient(135deg, #00e6e6, #0066cc);
        }
        
        .upload-btn:disabled {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
            cursor: not-allowed;
        }
        
        /* Dashboard Cards */
        .dashboard-card {
            background: rgba(16, 16, 24, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: 800;
            color: #00ffff;
        }
        
        .settings-option {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;}

    # part 3 
    <!-- PAGE 5: Dashboard -->
    <div id="page5" class="page">
        <div class="min-h-screen p-6">
            <div class="max-w-7xl mx-auto">
                <!-- Header -->
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-3xl font-black mb-2 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent">
                            Your NOVA Dashboard
                        </h1>
                        <p class="text-gray-400">Insights and analytics about your NOVA usage</p>
                    </div>
                    <button class="nova-btn nova-btn-secondary" id="dashboardBackBtn">
                        <i class="fas fa-arrow-left mr-2"></i>Back to Chat
                    </button>
                </div>
                
                <!-- Stats Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="dashboard-card">
                        <div class="text-gray-400 mb-2">Total Chats</div>
                        <div class="stat-number" id="totalChats">0</div>
                        <div class="text-xs text-gray-500 mt-2">Conversations with NOVA</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="text-gray-400 mb-2">Favorite Agent</div>
                        <div class="stat-number" id="favoriteAgent">General</div>
                        <div class="text-xs text-gray-500 mt-2">Most used specialist</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="text-gray-400 mb-2">Files Processed</div>
                        <div class="stat-number" id="filesProcessed">0</div>
                        <div class="text-xs text-gray-500 mt-2">Documents analyzed</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="text-gray-400 mb-2">Voice Usage</div>
                        <div class="stat-number" id="voiceUsage">0%</div>
                        <div class="text-xs text-gray-500 mt-2">Voice interactions</div>
                    </div>
                </div>
                
                <!-- Recent Activity -->
                <div class="dashboard-card">
                    <h3 class="text-lg font-semibold text-white mb-4">Recent Activity</h3>
                    <div id="recentActivity" class="space-y-3">
                        <div class="text-gray-400">No recent activity</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PAGE 6: Settings -->
    <div id="page6" class="page">
        <div class="min-h-screen p-6">
            <div class="max-w-4xl mx-auto">
                <!-- Header -->
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-3xl font-black mb-2 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent">
                            Settings
                        </h1>
                        <p class="text-gray-400">Customize your NOVA experience</p>
                    </div>
                    <button class="nova-btn nova-btn-secondary" id="settingsBackBtn">
                        <i class="fas fa-arrow-left mr-2"></i>Back to Chat
                    </button>
                </div>
                
                <!-- Profile Settings -->
                <div class="dashboard-card mb-8">
                    <h3 class="text-xl font-semibold text-white mb-6 flex items-center gap-2">
                        <i class="fas fa-user text-cyan-400"></i>
                        <span>Profile Settings</span>
                    </h3>
                    
                    <div class="space-y-6">
                        <div class="settings-option">
                            <label class="block text-sm font-medium text-cyan-400 mb-2">
                                <i class="fas fa-user-circle mr-2"></i>Display Name
                            </label>
                            <input type="text" class="nova-input" id="settingsDisplayName">
                        </div>
                        
                        <div class="settings-option">
                            <label class="block text-sm font-medium text-cyan-400 mb-2">
                                <i class="fas fa-envelope mr-2"></i>Email Address
                            </label>
                            <input type="email" class="nova-input" id="settingsEmail" disabled>
                        </div>
                        
                        <div class="settings-option">
                            <label class="block text-sm font-medium text-cyan-400 mb-2">
                                <i class="fas fa-calendar mr-2"></i>Age
                            </label>
                            <input type="number" class="nova-input" id="settingsAge">
                        </div>
                        
                        <div class="settings-option">
                            <label class="block text-sm font-medium text-cyan-400 mb-2">
                                <i class="fas fa-briefcase mr-2"></i>Role
                            </label>
                            <input type="text" class="nova-input" id="settingsRole">
                        </div>
                        
                        <button class="nova-btn nova-btn-primary w-full" id="saveProfileBtn">
                            <i class="fas fa-save mr-2"></i>Save Changes
                        </button>
                    </div>
                </div>
                
                <!-- App Preferences -->
                <div class="dashboard-card mb-8">
                    <h3 class="text-xl font-semibold text-white mb-6 flex items-center gap-2">
                        <i class="fas fa-cog text-blue-400"></i>
                        <span>App Preferences</span>
                    </h3>
                    
                    <div class="space-y-4">
                        <div class="flex justify-between items-center settings-option">
                            <div>
                                <div class="font-medium text-white">Dark Mode</div>
                                <div class="text-xs text-gray-400">Toggle between dark and light theme</div>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        
                        <div class="flex justify-between items-center settings-option">
                            <div>
                                <div class="font-medium text-white">Voice Input</div>
                                <div class="text-xs text-gray-400">Enable voice commands</div>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        
                        <div class="flex justify-between items-center settings-option">
                            <div>
                                <div class="font-medium text-white">Notifications</div>
                                <div class="text-xs text-gray-400">Enable desktop notifications</div>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        
                        <div class="flex justify-between items-center settings-option">
                            <div>
                                <div class="font-medium text-white">Auto-save Chats</div>
                                <div class="text-xs text-gray-400">Save chat history locally</div>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Data Management -->
                <div class="dashboard-card">
                    <h3 class="text-xl font-semibold text-white mb-6 flex items-center gap-2">
                        <i class="fas fa-database text-purple-400"></i>
                        <span>Data Management</span>
                    </h3>
                    
                    <div class="space-y-4">
                        <button class="nova-btn nova-btn-secondary w-full" id="exportDataBtn">
                            <i class="fas fa-download mr-2"></i>Export Chat History
                        </button>
                        
                        <button class="nova-btn nova-btn-secondary w-full" id="clearDataBtn">
                            <i class="fas fa-trash-alt mr-2"></i>Clear Local Data
                        </button>
                        
                        <div class="text-xs text-gray-500 mt-4">
                            <i class="fas fa-info-circle mr-1"></i>
                            Your data is stored locally in your browser. Clearing data will remove all your preferences and chat history.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PAGE 7: About & Support -->
    <div id="page7" class="page">
        <div class="min-h-screen p-6">
            <div class="max-w-4xl mx-auto">
                <!-- Header -->
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-3xl font-black mb-2 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent">
                            About NOVA-AI
                        </h1>
                        <p class="text-gray-400">Learn more about your AI companion</p>
                    </div>
                    <button class="nova-btn nova-btn-secondary" id="aboutBackBtn">
                        <i class="fas fa-arrow-left mr-2"></i>Back to Chat
                    </button>
                </div>
                
                <!-- About Section -->
                <div class="dashboard-card mb-8">
                    <h3 class="text-xl font-semibold text-white mb-4">What is NOVA-AI?</h3>
                    <p class="text-gray-300 mb-4">
                        NOVA-AI is a next-generation artificial intelligence assistant designed to help you with coding, business, career development, and personal growth. 
                        It combines state-of-the-art language models with specialized domain knowledge to provide accurate and helpful responses.
                    </p>
                    <p class="text-gray-300">
                        Unlike traditional chatbots, NOVA adapts to your needs, remembers your preferences, and grows with you over time. 
                        Whether you're debugging code, planning a business strategy, or just need someone to talk to, NOVA is here to help.
                    </p>
                </div>
                
                <!-- Team Section -->
                <div class="dashboard-card mb-8">
                    <h3 class="text-xl font-semibold text-white mb-6">Meet the Creator</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="team-card">
                            <div class="team-avatar">A</div>
                            <h4 class="text-lg font-bold text-white mb-1">Aryan Kakade</h4>
                            <div class="text-sm text-cyan-400 mb-3">AI/ML Engineer & Founder</div>
                            <p class="text-gray-400 text-sm mb-4">
                                MLops enthusiast with a passion for building intelligent systems that make people's lives easier.
                            </p>
                            <div class="flex justify-center gap-4">
                                <a href="https://www.linkedin.com/in/aryan-kakade27/" target="_blank" class="text-blue-400 hover:text-blue-300">
                                    <i class="fab fa-linkedin text-xl"></i>
                                </a>
                                <a href="https://github.com/aryankakade27" target="_blank" class="text-white hover:text-gray-300">
                                    <i class="fab fa-github text-xl"></i>
                                </a>
                                <a href="mailto:aryankakade27@gmail.com" class="text-red-400 hover:text-red-300">
                                    <i class="fas fa-envelope text-xl"></i>
                                </a>
                            </div>
                        </div>
                        
                        <div class="team-card">
                            <div class="team-avatar">N</div>
                            <h4 class="text-lg font-bold text-white mb-1">NOVA-AI</h4>
                            <div class="text-sm text-purple-400 mb-3">Your AI Companion</div>
                            <p class="text-gray-400 text-sm mb-4">
                                Always learning, always improving - designed to be your perfect assistant across all domains.
                            </p>
                            <div class="text-xs text-gray-500">
                                <i class="fas fa-code-branch mr-1"></i>
                                Version 1.0.0 | Last updated: August 2025
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- System Status -->
                <div class="dashboard-card">
                    <h3 class="text-xl font-semibold text-white mb-4">System Status</h3>
                    <div id="systemStatus" class="space-y-3">
                        <div class="text-gray-400">Loading system status...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PAGE 8: GitHub Analysis -->
    <div id="page8" class="page">
        <div class="min-h-screen p-6">
            <div class="max-w-4xl mx-auto">
                <!-- Header -->
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-3xl font-black mb-2 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent">
                            GitHub Repository Analysis
                        </h1>
                        <p class="text-gray-400">Analyze any GitHub repository with NOVA's advanced capabilities</p>
                    </div>
                    <button class="nova-btn nova-btn-secondary" id="githubBackBtn">
                        <i class="fas fa-arrow-left mr-2"></i>Back to Chat
                    </button>
                </div>
                
                <!-- GitHub Analysis Form -->
                <div class="dashboard-card mb-8">
                    <div class="github-input-container">
                        <input type="text" class="github-input" id="githubRepoUrl" placeholder="Enter GitHub repository URL (e.g., https://github.com/user/repo)">
                        <button class="analyze-btn" id="analyzeRepoBtn">Analyze</button>
                    </div>
                    
                    <div class="github-results" id="githubResults">
                        <div class="result-section">
                            <h3 class="result-title">Repository Analysis</h3>
                            <div class="result-content" id="repoAnalysis">
                                Enter a GitHub repository URL to begin analysis. NOVA will examine the codebase, 
                                identify potential issues, and provide comprehensive insights.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ask Questions About Repo -->
                    <div class="mt-6" id="githubQASection" style="display: none;">
                        <h3 class="text-lg font-semibold text-white mb-4">Ask Questions About This Repository</h3>
                        <div class="flex gap-2">
                            <input type="text" class="nova-input" id="githubQuestion" placeholder="Ask anything about this repository...">
                            <button class="nova-btn nova-btn-primary" id="askGithubBtn">Ask</button>
                        </div>
                        <div class="mt-4 p-4 bg-gray-800/30 rounded-lg" id="githubAnswer" style="display: none;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- File Upload Modal -->
    <div class="modal-overlay" id="fileModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Upload File</h3>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            
            <div class="file-preview">
                <i class="fas fa-file-alt file-icon"></i>
                <div class="file-name" id="fileName">No file selected</div>
                <div class="file-size" id="fileSize">-</div>
            </div>
            
            <textarea class="upload-prompt" id="filePrompt" placeholder="What would you like NOVA to do with this file?"></textarea>
            
            <button class="upload-btn" id="confirmUploadBtn" disabled>
                <i class="fas fa-upload mr-2"></i>Upload & Process
            </button>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="text-xl font-semibold">Processing...</p>
            <p class="text-gray-400 text-sm mt-2" id="loadingMessage">Please wait</p>
        </div>
    </div>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAYwSA8ctA0oLPdLCPpila33tktUJjV1lE",
            authDomain: "nova-ai-8dfc1.firebaseapp.com",
            projectId: "nova-ai-8dfc1",
            storageBucket: "nova-ai-8dfc1.firebasestorage.app",
            messagingSenderId: "263904715663",
            appId: "1:263904715663:web:03294c7ada3b96eb0a21fa",
            measurementId: "G-3EPNHKJD9S"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Backend API Configuration
        const API_BASE_URL = 'http://127.0.0.1:8000';

        // Global Variables
        let currentUser = null;
        let currentPage = 1;
        let selectedAgent = null;
        let isRecording = false;
        let mediaRecorder = null;
        let audioChunks = [];
        let chatHistory = [];
        let currentSession = null;
        let currentFile = null;
        let conversationHistory = [];
        let systemStatus = {};

        // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            createStars();
            setupEventListeners();
            checkAuthState();
            loadSystemStatus();
        }

        // Create Stars
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }

        // Event Listeners Setup
        function setupEventListeners() {
            // Page 1 - Authentication
            document.getElementById('googleSignIn').addEventListener('click', handleGoogleSignIn);
            document.getElementById('githubSignIn').addEventListener('click', handleGitHubSignIn);
            
            // Page 2 - Profile Setup
            document.getElementById('profileForm').addEventListener('submit', handleProfileSubmit);
            
            // Page 3 - Agent Selection
            document.querySelectorAll('.agent-card').forEach(card => {
                card.addEventListener('click', () => selectAgent(card.dataset.agent));
            });
            document.getElementById('continueToChat').addEventListener('click', continueToChat);
            
            // Page 4 - Chat Interface
            setupChatEventListeners();
            
            // Floating Menu
            document.getElementById('floatingMenuBtn').addEventListener('click', toggleFloatingMenu);
            document.getElementById('chatMenuItem').addEventListener('click', () => navigateToPage(4));
            document.getElementById('dashboardMenuItem').addEventListener('click', () => navigateToPage(5));
            document.getElementById('settingsMenuItem').addEventListener('click', () => navigateToPage(6));
            document.getElementById('aboutMenuItem').addEventListener('click', () => navigateToPage(7));
            document.getElementById('githubMenuItem').addEventListener('click', () => navigateToPage(8));
            document.getElementById('logoutMenuItem').addEventListener('click', handleLogout);
            
            // Back buttons
            document.getElementById('dashboardBackBtn').addEventListener('click', () => navigateToPage(4));
            document.getElementById('settingsBackBtn').addEventListener('click', () => navigateToPage(4));
            document.getElementById('aboutBackBtn').addEventListener('click', () => navigateToPage(4));
            document.getElementById('githubBackBtn').addEventListener('click', () => navigateToPage(4));
            
            // GitHub Analysis
            document.getElementById('analyzeRepoBtn').addEventListener('click', analyzeGitHubRepo);
            document.getElementById('askGithubBtn').addEventListener('click', askGithubQuestion);
            
            // Settings
            document.getElementById('saveProfileBtn').addEventListener('click', saveProfileSettings);
            document.getElementById('exportDataBtn').addEventListener('click', exportChatHistory);
            document.getElementById('clearDataBtn').addEventListener('click', clearLocalData);
            
            // File Upload Modal
            document.getElementById('fileUploadBtn').addEventListener('click', () => {
                document.getElementById('fileInput').click();
            });
            document.getElementById('fileInput').addEventListener('change', handleFileSelect);
            document.getElementById('closeModal').addEventListener('click', closeFileModal);
            document.getElementById('filePrompt').addEventListener('input', validateFileUpload);
            document.getElementById('confirmUploadBtn').addEventListener('click', processFileUpload);
        }

        function setupChatEventListeners() {
            // Chat input
            const chatInput = document.getElementById('chatInput');
            chatInput.addEventListener('keydown', handleChatInputKeydown);
            chatInput.addEventListener('input', autoResize);
            
            // Send button
            document.getElementById('sendBtn').addEventListener('click', sendMessage);
            
            // Voice button
            document.getElementById('voiceBtn').addEventListener('click', toggleVoiceRecording);
        }

        // Backend API Functions
        async function callBackendAPI(endpoint, method = 'GET', data = null) {
            try {
                const options = {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json',
                    }
                };

                if (data && method !== 'GET') {
                    options.body = JSON.stringify(data);
                }

                const response = await fetch(`${API_BASE_URL}${endpoint}`, options);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                return await response.json();
            } catch (error) {
                console.error(`API call failed for ${endpoint}:`, error);
                throw error;
            }
        }

        async function loadSystemStatus() {
            try {
                systemStatus = await callBackendAPI('/api/status');
                updateSystemStatusDisplay();
            } catch (error) {
                console.error('Failed to load system status:', error);
            }
        }

        function updateSystemStatusDisplay() {
            const statusElement = document.getElementById('systemStatus');
            if (!statusElement) return;

            const statusItems = [
                { label: 'Professional Agents', status: systemStatus.professional_agents_loaded },
                { label: 'Voice System', status: systemStatus.voice_engine !== 'None' },
                { label: 'GitHub Integration', status: systemStatus.github_integration },
                { label: 'Weather System', status: systemStatus.weather_system_enabled },
                { label: 'Crypto System', status: systemStatus.crypto_system_enabled },
                { label: 'Image Generation', status: systemStatus.image_generation_enabled },
                { label: 'File Processing', status: systemStatus.file_processing_available },
                { label: 'Web Search', status: systemStatus.web_search_available }
            ];

            statusElement.innerHTML = statusItems.map(item => `
                <div class="flex justify-between items-center p-3 bg-gray-800/30 rounded-lg">
                    <span>${item.label}</span>
                    <span class="flex items-center">
                        <div class="status-indicator" style="background: ${item.status ? '#00ff88' : '#ff4444'}"></div>
                        ${item.status ? 'Active' : 'Inactive'}
                    </span>
                </div>
            `).join('');
        }

        // Authentication Functions
        function checkAuthState() {
            firebase.auth().onAuthStateChanged((user) => {
                if (user) {
                    currentUser = user;
                    // Check if profile setup is complete
                    const profileData = localStorage.getItem('profileData');
                    if (!profileData) {
                        navigateToPage(2);
                    } else {
                        navigateToPage(4);
                        initializeChatInterface();
                    }
                } else {
                    navigateToPage(1);
                }
            });
        }

        async function handleGoogleSignIn() {
            try {
                showLoading('Authenticating with Google...');
                const provider = new firebase.auth.GoogleAuthProvider();
                provider.addScope('profile');
                provider.addScope('email');
                
                const result = await firebase.auth().signInWithPopup(provider);
                currentUser = result.user;
                
                showLoadingSuccess('Welcome! Setting up your profile...');
                setTimeout(() => {
                    hideLoading();
                    navigateToPage(2);
                }, 1500);
                
            } catch (error) {
                hideLoading();
                console.error('Google sign-in error:', error);
                showNotification('Authentication failed. Please try again.', 'error');
            }
        }

        async function handleGitHubSignIn() {
            try {
                showLoading('Authenticating with GitHub...');
                const provider = new firebase.auth.GithubAuthProvider();
                provider.addScope('user:email');
                
                const result = await firebase.auth().signInWithPopup(provider);
                currentUser = result.user;
                
                showLoadingSuccess('Welcome! Setting up your profile...');
                setTimeout(() => {
                    hideLoading();
                    navigateToPage(2);
                }, 1500);
                
            } catch (error) {
                hideLoading();
                console.error('GitHub sign-in error:', error);
                showNotification('Authentication failed. Please try again.', 'error');
            }
        }

        async function handleLogout() {
            try {
                await firebase.auth().signOut();
                localStorage.removeItem('profileData');
                localStorage.removeItem('chatHistory');
                navigateToPage(1);
            } catch (error) {
                console.error('Logout error:', error);
                showNotification('Failed to logout. Please try again.', 'error');
            }
        }

        // Profile Setup
        function handleProfileSubmit(e) {
            e.preventDefault();
            
            const profileData = {
                name: document.getElementById('userName').value,
                age: parseInt(document.getElementById('userAge').value),
                role: document.getElementById('userRole').value,
                interest: document.getElementById('userInterest').value,
                email: currentUser.email,
                photoURL: currentUser.photoURL
            };
            
            // Validate
            if (!profileData.name || !profileData.age || !profileData.interest) {
                showNotification('Please fill in all required fields.', 'error');
                return;
            }
            
            if (profileData.age < 18) {
                showNotification('You must be at least 18 years old.', 'error');
                return;
            }
            
            // Save profile data
            localStorage.setItem('profileData', JSON.stringify(profileData));
            
            showLoading('Saving your profile...');
            setTimeout(() => {
                hideLoading();
                navigateToPage(3);
            }, 1000);
        }

        // Agent Selection
        function selectAgent(agentType) {
            // Remove previous selection
            document.querySelectorAll('.agent-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Select new agent
            const selectedCard = document.querySelector(`[data-agent="${agentType}"]`);
            selectedCard.classList.add('selected');
            selectedAgent = agentType;
            
            // Update continue button
            const continueBtn = document.getElementById('continueToChat');
            const agentNames = {
                coding: 'Coding Expert',
                business: 'Business Consultant',
                career: 'Career Coach',
                medical: 'Health Advisor',
                emotional: 'Emotional Counselor',
                general: 'General Assistant'
            };
            
            document.getElementById('selectedAgentName').textContent = agentNames[agentType];
            continueBtn.disabled = false;
        }

        function continueToChat() {
            if (!selectedAgent) return;
            
            showLoading('Initializing your AI assistant...');
            setTimeout(() => {
                hideLoading();
                navigateToPage(4);
                initializeChatInterface();
            }, 1500);
        }

        // Chat Interface
        async function initializeChatInterface() {
            const profileData = JSON.parse(localStorage.getItem('profileData') || '{}');
            
            // Update agent info
            if (selectedAgent) {
                const agentInfo = getAgentInfo(selectedAgent);
                document.getElementById('chatAgentName').textContent = agentInfo.name;
                document.getElementById('chatAgentDesc').textContent = agentInfo.description;
            }
            
            // Initialize session
            currentSession = generateSessionId();
            
            // Load chat history from backend
            await loadConversationHistory();
            
            // Update dashboard
            updateDashboardStats();
        }

        function getAgentInfo(agentType) {
            const agents = {
                coding: { name: 'NOVA Coding Expert', description: 'Programming & Development Specialist' },
                business: { name: 'NOVA Business Consultant', description: 'Strategic Business Advisor' },
                career: { name: 'NOVA Career Coach', description: 'Professional Development Expert' },
                medical: { name: 'Dr. NOVA', description: 'Health & Wellness Advisor' },
                emotional: { name: 'NOVA Counselor', description: 'Emotional Support Specialist' },
                general: { name: 'NOVA Assistant', description: 'Multi-Domain AI Helper' }
            };
            return agents[agentType] || agents.general;
        }

        // Chat Functions with Backend Integration
        function handleChatInputKeydown(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        }

        function autoResize() {
            const textarea = document.getElementById('chatInput');
            textarea.style.height = 'auto';
            textarea.style.height = Math.min(textarea.scrollHeight, 150) + 'px';
        }

        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Clear input
            input.value = '';
            autoResize();
            
            // Add user message to chat
            addMessageToChat('user', message);
            
            // Show typing indicator
            const typingId = addTypingIndicator();
            
            try {
                // Determine if this is a special command
                const specialCommand = detectSpecialCommand(message);
                
                if (specialCommand) {
                    await handleSpecialCommand(specialCommand, message, typingId);
                } else {
                    // Regular chat using /api/chat endpoint
                    const response = await callBackendAPI('/api/chat', 'POST', {
                        text: message,
                        user_id: getUserId(),
                        session_id: currentSession,
                        language: 'en-IN',
                        voice_mode: false
                    });
                    
                    // Remove typing indicator
                    removeTypingIndicator(typingId);
                    
                    // Add bot response to chat
                    addMessageToChat('bot', response.response, {
                        agent_type: response.agent_type,
                        emotion: response.emotion,
                        response_time: response.response_time
                    });
                    
                    // Update dashboard
                    updateDashboardStats();
                }
                
            } catch (error) {
                console.error('Chat error:', error);
                removeTypingIndicator(typingId);
                addMessageToChat('bot', "Sorry, I'm having trouble connecting to my backend services. Please check if the NOVA backend server is running on http://127.0.0.1:8000 and try again.");
            }
        }

        function detectSpecialCommand(message) {
            const lowMessage = message.toLowerCase();
            
            if (lowMessage.includes('weather') || lowMessage.includes('temperature') || lowMessage.includes('forecast')) {
                return 'weather';
            }
            if (lowMessage.includes('search') || lowMessage.includes('find') || lowMessage.includes('lookup')) {
                return 'search';
            }
            if (lowMessage.includes('news') || lowMessage.includes('latest') || lowMessage.includes('current events')) {
                return 'news';
            }
            if (lowMessage.includes('crypto') || lowMessage.includes('bitcoin') || lowMessage.includes('ethereum') || lowMessage.includes('price')) {
                return 'crypto';
            }
            if (lowMessage.includes('generate image') || lowMessage.includes('create image') || lowMessage.includes('draw')) {
                return 'image';
            }
            
            return null;
        }

        async function handleSpecialCommand(command, message, typingId) {
            try {
                let response;
                
                switch (command) {
                    case 'weather':
                        const weatherLocation = extractLocation(message);
                        response = await callBackendAPI('/api/weather', 'POST', {
                            location: weatherLocation,
                            user_id: getUserId()
                        });
                        break;
                        
                    case 'search':
                        const searchQuery = extractSearchQuery(message);
                        response = await callBackendAPI('/api/search/web', 'POST', {
                            query: searchQuery,
                            max_results: 5,
                            user_id: getUserId()
                        });
                        break;
                        
                    case 'news':
                        const newsQuery = extractSearchQuery(message) || 'latest news';
                        response = await callBackendAPI('/api/search/news', 'POST', {
                            query: newsQuery,
                            max_results: 5,
                            user_id: getUserId()
                        });
                        break;
                        
                    case 'crypto':
                        const cryptoSymbols = extractCryptoSymbols(message);
                        if (message.toLowerCase().includes('trending')) {
                            response = await callBackendAPI('/api/crypto/trending?user_id=' + getUserId());
                        } else {
                            response = await callBackendAPI('/api/crypto/prices', 'POST', {
                                symbols: cryptoSymbols,
                                user_id: getUserId()
                            });
                        }
                        break;
                        
                    case 'image':
                        const imagePrompt = extractImagePrompt(message);
                        response = await callBackendAPI('/api/image/generate', 'POST', {
                            prompt: imagePrompt,
                            size: '1024x1024',
                            user_id: getUserId()
                        });
                        break;
                        
                    default:
                        // Fallback to regular chat
                        response = await callBackendAPI('/api/chat', 'POST', {
                            text: message,
                            user_id: getUserId(),
                            session_id: currentSession,
                            language: 'en-IN',
                            voice_mode: false
                        });
                }
                
                // Remove typing indicator
                removeTypingIndicator(typingId);
                
                // Format and display response
                const formattedResponse = formatSpecialResponse(command, response);
                addMessageToChat('bot', formattedResponse);
                
            } catch (error) {
                removeTypingIndicator(typingId);
                addMessageToChat('bot', `Sorry, I encountered an error processing your ${command} request: ${error.message}`);
            }
        }

        function extractLocation(message) {
            const words = message.split(' ');
            const locationWords = words.filter(word => 
                word.length > 3 && 
                !['weather', 'temperature', 'forecast', 'what', 'how', 'the', 'is'].includes(word.<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOVA-AI | Next-Generation AI Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }
        
        body {
            background: #0a0a0f;
            color: #ffffff;
            overflow-x: hidden;
        }
        
        /* Animated Background */
        .cosmic-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, #1a1a2e 0%, #16213e 30%, #0f0f23 70%, #000000 100%);
            z-index: -2;
        }
        
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffffff;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        /* Floating Orbs */
        .floating-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(2px);
            animation: float 20s infinite linear;
        }
        
        .orb-1 {
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(0, 255, 255, 0.3) 0%, transparent 70%);
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }
        
        .orb-2 {
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, rgba(138, 43, 226, 0.3) 0%, transparent 70%);
            top: 60%;
            right: 15%;
            animation-delay: 7s;
        }
        
        .orb-3 {
            width: 120px;
            height: 120px;
            background: radial-gradient(circle, rgba(0, 191, 255, 0.2) 0%, transparent 70%);
            bottom: 30%;
            left: 5%;
            animation-delay: 14s;
        }
        
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(100px, -100px) rotate(120deg); }
            66% { transform: translate(-50px, 50px) rotate(240deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }
        
        /* Page Container */
        .page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1;
            overflow-y: auto;
        }
        
        .page.active {
            opacity: 1;
            visibility: visible;
            z-index: 2;
        }
        
        /* Main Container */
        .main-container {
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 255, 0.2);
            box-shadow: 
                0 0 60px rgba(0, 255, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            position: relative;
            overflow: hidden;
        }
        
        .main-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.8), transparent);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Logo Container */
        .logo-container {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto 2rem;
            background: linear-gradient(135deg, #00ffff, #8a2be2);
            border-radius: 24px;
            padding: 3px;
            animation: glow-pulse 4s ease-in-out infinite;
        }
        
        .logo-inner {
            width: 100%;
            height: 100%;
            background: #0a0a0f;
            border-radius: 21px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: 900;
            color: #00ffff;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }
        
        @keyframes glow-pulse {
            0%, 100% { 
                box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 0 50px rgba(0, 255, 255, 0.6);
                transform: scale(1.05);
            }
        }
        
        /* Auth Buttons */
        .auth-btn, .nova-btn {
            position: relative;
            width: 100%;
            padding: 16px 24px;
            border: 2px solid transparent;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
            overflow: hidden;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            cursor: pointer;
        }
        
        .auth-btn::before, .nova-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .auth-btn:hover::before, .nova-btn:hover::before {
            left: 100%;
        }
        
        .google-btn {
            background: linear-gradient(135deg, #ffffff, #f0f0f0);
            color: #333;
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        .google-btn:hover {
            background: linear-gradient(135deg, #f8f8f8, #e8e8e8);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .github-btn {
            background: linear-gradient(135deg, #24292e, #1a1e22);
            color: #ffffff;
            border-color: rgba(0, 255, 255, 0.3);
        }
        
        .github-btn:hover {
            background: linear-gradient(135deg, #2f363d, #24292e);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.2);
        }
        
        .nova-btn-primary {
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            border-color: rgba(0, 255, 255, 0.5);
        }
        
        .nova-btn-primary:hover {
            background: linear-gradient(135deg, #00e6e6, #0066cc);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
        }
        
        .nova-btn-secondary {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.8), rgba(138, 43, 226, 0.6));
            color: #ffffff;
            border-color: rgba(138, 43, 226, 0.5);
        }
        
        .nova-btn-secondary:hover {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.9), rgba(138, 43, 226, 0.7));
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(138, 43, 226, 0.3);
        }
        
        /* Form Elements */
        .nova-input {
            width: 100%;
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 16px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .nova-input:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.08);
        }
        
        .nova-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        /* Agent Cards */
        .agent-card {
            background: rgba(16, 16, 24, 0.8);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 20px;
            padding: 24px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .agent-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .agent-card:hover::before {
            left: 100%;
        }
        
        .agent-card:hover {
            transform: translateY(-8px);
            border-color: rgba(0, 255, 255, 0.6);
            box-shadow: 0 20px 40px rgba(0, 255, 255, 0.2);
        }
        
        .agent-card.selected {
            border-color: rgba(0, 255, 255, 0.8);
            background: rgba(0, 255, 255, 0.1);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }
        
        .agent-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 16px;
            background: linear-gradient(135deg, #00ffff, #8a2be2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #000;
            font-weight: bold;
        }
        
        /* Chat Interface */
        .chat-container {
            height: 100vh;
            display: flex;
            background: rgba(10, 10, 15, 0.95);
        }
        
        .chat-sidebar {
            width: 300px;
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(0, 255, 255, 0.2);
            padding: 20px;
            overflow-y: auto;
        }
        
        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .chat-header {
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .chat-input-container {
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(0, 255, 255, 0.2);
            padding: 20px;
        }
        
        .message {
            max-width: 80%;
            padding: 16px 20px;
            border-radius: 20px;
            position: relative;
            animation: fadeInUp 0.3s ease;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .message.user {
            align-self: flex-end;
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            margin-left: auto;
        }
        
        .message.bot {
            align-self: flex-start;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 255, 255, 0.2);
            color: #ffffff;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .chat-input {
            width: 100%;
            padding: 16px 60px 16px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 25px;
            color: #ffffff;
            font-size: 16px;
            resize: none;
            min-height: 50px;
            max-height: 150px;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
        }
        
        .chat-actions {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 8px;
        }
        
        .action-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(0, 255, 255, 0.2);
            border: none;
            color: #00ffff;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .action-btn:hover {
            background: rgba(0, 255, 255, 0.4);
            transform: scale(1.1);
        }
        
        /* Typewriter Effect */
        .typewriter {
            border-right: 2px solid rgba(0, 255, 255, 0.8);
            white-space: nowrap;
            overflow: hidden;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: rgba(0, 255, 255, 0.8); }
        }
        
        /* Loading Animation */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .loading-content {
            text-align: center;
            color: #00ffff;
        }
        
        .spinner {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(0, 255, 255, 0.3);
            border-top: 3px solid #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Success Animation */
        .success-check {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid #00ff88;
            margin: 0 auto 20px;
            position: relative;
            animation: pulse-green 1.5s ease-in-out infinite;
        }
        
        .success-check::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #00ff88;
            font-size: 2rem;
            font-weight: bold;
        }
        
        @keyframes pulse-green {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 136, 0.3); }
            50% { box-shadow: 0 0 40px rgba(0, 255, 136, 0.6); }
        }
        
        /* History Item */
        .history-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(0, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .history-item:hover {
            background: rgba(0, 255, 255, 0.05);
            border-color: rgba(0, 255, 255, 0.3);
        }
        
        /* Status indicators */
        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #00ff88;
            animation: pulse 2s infinite;
            margin-right: 8px;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Floating Menu Button */
        .floating-menu-btn {
            position: fixed;
            top: 30px;
            left: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00ffff, #8a2be2);
            color: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .floating-menu-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
        }
        
        .floating-menu {
            position: fixed;
            top: 100px;
            left: 30px;
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 15px;
            padding: 15px;
            display: none;
            flex-direction: column;
            gap: 10px;
            z-index: 99;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .floating-menu.active {
            display: flex;
        }
        
        .menu-item {
            padding: 12px 20px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #ffffff;
            text-decoration: none;
        }
        
        .menu-item:hover {
            background: rgba(0, 255, 255, 0.1);
        }
        
        /* GitHub Analysis Page */
        .github-analysis {
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .github-input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .github-input {
            flex: 1;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 16px;
        }
        
        .github-input:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
        }
        
        .analyze-btn {
            padding: 16px 24px;
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .analyze-btn:hover {
            background: linear-gradient(135deg, #00e6e6, #0066cc);
        }
        
        .github-results {
            background: rgba(16, 16, 24, 0.8);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }
        
        .result-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #00ffff;
        }
        
        .result-content {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            white-space: pre-wrap;
            overflow-x: auto;
            font-size: 14px;
            line-height: 1.5;
        }
        
        /* File Upload Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal {
            background: rgba(16, 16, 24, 0.95);
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(0, 255, 255, 0.3);
            box-shadow: 0 0 40px rgba(0, 255, 255, 0.2);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: #00ffff;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: #ffffff;
            font-size: 24px;
            cursor: pointer;
        }
        
        .file-preview {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .file-icon {
            font-size: 60px;
            color: #00ffff;
            margin-bottom: 10px;
        }
        
        .file-name {
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .file-size {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .upload-prompt {
            width: 100%;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 16px;
            margin-bottom: 20px;
            min-height: 100px;
            resize: vertical;
        }
        
        .upload-prompt:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
        }
        
        .upload-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .upload-btn:hover {
            background: linear-gradient(135deg, #00e6e6, #0066cc);
        }
        
        .upload-btn:disabled {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
            cursor: not-allowed;
        }
        
        /* Dashboard Cards */
        .dashboard-card {
            background: rgba(16, 16, 24, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: 800;
            color: #00ffff;
        }
        
        .settings-option {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;}
        
    # part 4 

    <!-- PAGE 5: Dashboard -->
    <div id="page5" class="page">
        <div class="min-h-screen p-6">
            <div class="max-w-7xl mx-auto">
                <!-- Header -->
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-3xl font-black mb-2 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent">
                            Your NOVA Dashboard
                        </h1>
                        <p class="text-gray-400">Insights and analytics about your NOVA usage</p>
                    </div>
                    <button class="nova-btn nova-btn-secondary" id="dashboardBackBtn">
                        <i class="fas fa-arrow-left mr-2"></i>Back to Chat
                    </button>
                </div>
                
                <!-- Stats Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="dashboard-card">
                        <div class="text-gray-400 mb-2">Total Chats</div>
                        <div class="stat-number" id="totalChats">0</div>
                        <div class="text-xs text-gray-500 mt-2">Conversations with NOVA</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="text-gray-400 mb-2">Favorite Agent</div>
                        <div class="stat-number" id="favoriteAgent">General</div>
                        <div class="text-xs text-gray-500 mt-2">Most used specialist</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="text-gray-400 mb-2">Files Processed</div>
                        <div class="stat-number" id="filesProcessed">0</div>
                        <div class="text-xs text-gray-500 mt-2">Documents analyzed</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="text-gray-400 mb-2">Voice Usage</div>
                        <div class="stat-number" id="voiceUsage">0%</div>
                        <div class="text-xs text-gray-500 mt-2">Voice interactions</div>
                    </div>
                </div>
                
                <!-- Recent Activity -->
                <div class="dashboard-card">
                    <h3 class="text-lg font-semibold text-white mb-4">Recent Activity</h3>
                    <div id="recentActivity" class="space-y-3">
                        <div class="text-gray-400">No recent activity</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PAGE 6: Settings -->
    <div id="page6" class="page">
        <div class="min-h-screen p-6">
            <div class="max-w-4xl mx-auto">
                <!-- Header -->
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-3xl font-black mb-2 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent">
                            Settings
                        </h1>
                        <p class="text-gray-400">Customize your NOVA experience</p>
                    </div>
                    <button class="nova-btn nova-btn-secondary" id="settingsBackBtn">
                        <i class="fas fa-arrow-left mr-2"></i>Back to Chat
                    </button>
                </div>
                
                <!-- Profile Settings -->
                <div class="dashboard-card mb-8">
                    <h3 class="text-xl font-semibold text-white mb-6 flex items-center gap-2">
                        <i class="fas fa-user text-cyan-400"></i>
                        <span>Profile Settings</span>
                    </h3>
                    
                    <div class="space-y-6">
                        <div class="settings-option">
                            <label class="block text-sm font-medium text-cyan-400 mb-2">
                                <i class="fas fa-user-circle mr-2"></i>Display Name
                            </label>
                            <input type="text" class="nova-input" id="settingsDisplayName">
                        </div>
                        
                        <div class="settings-option">
                            <label class="block text-sm font-medium text-cyan-400 mb-2">
                                <i class="fas fa-envelope mr-2"></i>Email Address
                            </label>
                            <input type="email" class="nova-input" id="settingsEmail" disabled>
                        </div>
                        
                        <div class="settings-option">
                            <label class="block text-sm font-medium text-cyan-400 mb-2">
                                <i class="fas fa-calendar mr-2"></i>Age
                            </label>
                            <input type="number" class="nova-input" id="settingsAge">
                        </div>
                        
                        <div class="settings-option">
                            <label class="block text-sm font-medium text-cyan-400 mb-2">
                                <i class="fas fa-briefcase mr-2"></i>Role
                            </label>
                            <input type="text" class="nova-input" id="settingsRole">
                        </div>
                        
                        <button class="nova-btn nova-btn-primary w-full" id="saveProfileBtn">
                            <i class="fas fa-save mr-2"></i>Save Changes
                        </button>
                    </div>
                </div>
                
                <!-- App Preferences -->
                <div class="dashboard-card mb-8">
                    <h3 class="text-xl font-semibold text-white mb-6 flex items-center gap-2">
                        <i class="fas fa-cog text-blue-400"></i>
                        <span>App Preferences</span>
                    </h3>
                    
                    <div class="space-y-4">
                        <div class="flex justify-between items-center settings-option">
                            <div>
                                <div class="font-medium text-white">Dark Mode</div>
                                <div class="text-xs text-gray-400">Toggle between dark and light theme</div>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        
                        <div class="flex justify-between items-center settings-option">
                            <div>
                                <div class="font-medium text-white">Voice Input</div>
                                <div class="text-xs text-gray-400">Enable voice commands</div>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        
                        <div class="flex justify-between items-center settings-option">
                            <div>
                                <div class="font-medium text-white">Notifications</div>
                                <div class="text-xs text-gray-400">Enable desktop notifications</div>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        
                        <div class="flex justify-between items-center settings-option">
                            <div>
                                <div class="font-medium text-white">Auto-save Chats</div>
                                <div class="text-xs text-gray-400">Save chat history locally</div>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Data Management -->
                <div class="dashboard-card">
                    <h3 class="text-xl font-semibold text-white mb-6 flex items-center gap-2">
                        <i class="fas fa-database text-purple-400"></i>
                        <span>Data Management</span>
                    </h3>
                    
                    <div class="space-y-4">
                        <button class="nova-btn nova-btn-secondary w-full" id="exportDataBtn">
                            <i class="fas fa-download mr-2"></i>Export Chat History
                        </button>
                        
                        <button class="nova-btn nova-btn-secondary w-full" id="clearDataBtn">
                            <i class="fas fa-trash-alt mr-2"></i>Clear Local Data
                        </button>
                        
                        <div class="text-xs text-gray-500 mt-4">
                            <i class="fas fa-info-circle mr-1"></i>
                            Your data is stored locally in your browser. Clearing data will remove all your preferences and chat history.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PAGE 7: About & Support -->
    <div id="page7" class="page">
        <div class="min-h-screen p-6">
            <div class="max-w-4xl mx-auto">
                <!-- Header -->
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-3xl font-black mb-2 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent">
                            About NOVA-AI
                        </h1>
                        <p class="text-gray-400">Learn more about your AI companion</p>
                    </div>
                    <button class="nova-btn nova-btn-secondary" id="aboutBackBtn">
                        <i class="fas fa-arrow-left mr-2"></i>Back to Chat
                    </button>
                </div>
                
                <!-- About Section -->
                <div class="dashboard-card mb-8">
                    <h3 class="text-xl font-semibold text-white mb-4">What is NOVA-AI?</h3>
                    <p class="text-gray-300 mb-4">
                        NOVA-AI is a next-generation artificial intelligence assistant designed to help you with coding, business, career development, and personal growth. 
                        It combines state-of-the-art language models with specialized domain knowledge to provide accurate and helpful responses.
                    </p>
                    <p class="text-gray-300">
                        Unlike traditional chatbots, NOVA adapts to your needs, remembers your preferences, and grows with you over time. 
                        Whether you're debugging code, planning a business strategy, or just need someone to talk to, NOVA is here to help.
                    </p>
                </div>
                
                <!-- Team Section -->
                <div class="dashboard-card mb-8">
                    <h3 class="text-xl font-semibold text-white mb-6">Meet the Creator</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="team-card">
                            <div class="team-avatar">A</div>
                            <h4 class="text-lg font-bold text-white mb-1">Aryan Kakade</h4>
                            <div class="text-sm text-cyan-400 mb-3">AI/ML Engineer & Founder</div>
                            <p class="text-gray-400 text-sm mb-4">
                                MLops enthusiast with a passion for building intelligent systems that make people's lives easier.
                            </p>
                            <div class="flex justify-center gap-4">
                                <a href="https://www.linkedin.com/in/aryan-kakade27/" target="_blank" class="text-blue-400 hover:text-blue-300">
                                    <i class="fab fa-linkedin text-xl"></i>
                                </a>
                                <a href="https://github.com/aryankakade27" target="_blank" class="text-white hover:text-gray-300">
                                    <i class="fab fa-github text-xl"></i>
                                </a>
                                <a href="mailto:aryankakade27@gmail.com" class="text-red-400 hover:text-red-300">
                                    <i class="fas fa-envelope text-xl"></i>
                                </a>
                            </div>
                        </div>
                        
                        <div class="team-card">
                            <div class="team-avatar">N</div>
                            <h4 class="text-lg font-bold text-white mb-1">NOVA-AI</h4>
                            <div class="text-sm text-purple-400 mb-3">Your AI Companion</div>
                            <p class="text-gray-400 text-sm mb-4">
                                Always learning, always improving - designed to be your perfect assistant across all domains.
                            </p>
                            <div class="text-xs text-gray-500">
                                <i class="fas fa-code-branch mr-1"></i>
                                Version 1.0.0 | Last updated: August 2025
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- System Status -->
                <div class="dashboard-card">
                    <h3 class="text-xl font-semibold text-white mb-4">System Status</h3>
                    <div id="systemStatus" class="space-y-3">
                        <div class="text-gray-400">Loading system status...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PAGE 8: GitHub Analysis -->
    <div id="page8" class="page">
        <div class="min-h-screen p-6">
            <div class="max-w-4xl mx-auto">
                <!-- Header -->
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 class="text-3xl font-black mb-2 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent">
                            GitHub Repository Analysis
                        </h1>
                        <p class="text-gray-400">Analyze any GitHub repository with NOVA's advanced capabilities</p>
                    </div>
                    <button class="nova-btn nova-btn-secondary" id="githubBackBtn">
                        <i class="fas fa-arrow-left mr-2"></i>Back to Chat
                    </button>
                </div>
                
                <!-- GitHub Analysis Form -->
                <div class="dashboard-card mb-8">
                    <div class="github-input-container">
                        <input type="text" class="github-input" id="githubRepoUrl" placeholder="Enter GitHub repository URL (e.g., https://github.com/user/repo)">
                        <button class="analyze-btn" id="analyzeRepoBtn">Analyze</button>
                    </div>
                    
                    <div class="github-results" id="githubResults">
                        <div class="result-section">
                            <h3 class="result-title">Repository Analysis</h3>
                            <div class="result-content" id="repoAnalysis">
                                Enter a GitHub repository URL to begin analysis. NOVA will examine the codebase, 
                                identify potential issues, and provide comprehensive insights.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ask Questions About Repo -->
                    <div class="mt-6" id="githubQASection" style="display: none;">
                        <h3 class="text-lg font-semibold text-white mb-4">Ask Questions About This Repository</h3>
                        <div class="flex gap-2">
                            <input type="text" class="nova-input" id="githubQuestion" placeholder="Ask anything about this repository...">
                            <button class="nova-btn nova-btn-primary" id="askGithubBtn">Ask</button>
                        </div>
                        <div class="mt-4 p-4 bg-gray-800/30 rounded-lg" id="githubAnswer" style="display: none;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- File Upload Modal -->
    <div class="modal-overlay" id="fileModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Upload File</h3>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            
            <div class="file-preview">
                <i class="fas fa-file-alt file-icon"></i>
                <div class="file-name" id="fileName">No file selected</div>
                <div class="file-size" id="fileSize">-</div>
            </div>
            
            <textarea class="upload-prompt" id="filePrompt" placeholder="What would you like NOVA to do with this file?"></textarea>
            
            <button class="upload-btn" id="confirmUploadBtn" disabled>
                <i class="fas fa-upload mr-2"></i>Upload & Process
            </button>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="text-xl font-semibold">Processing...</p>
            <p class="text-gray-400 text-sm mt-2" id="loadingMessage">Please wait</p>
        </div>
    </div>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAYwSA8ctA0oLPdLCPpila33tktUJjV1lE",
            authDomain: "nova-ai-8dfc1.firebaseapp.com",
            projectId: "nova-ai-8dfc1",
            storageBucket: "nova-ai-8dfc1.firebasestorage.app",
            messagingSenderId: "263904715663",
            appId: "1:263904715663:web:03294c7ada3b96eb0a21fa",
            measurementId: "G-3EPNHKJD9S"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Backend API Configuration
        const API_BASE_URL = 'http://127.0.0.1:8000';

        // Global Variables
        let currentUser = null;
        let currentPage = 1;
        let selectedAgent = null;
        let isRecording = false;
        let mediaRecorder = null;
        let audioChunks = [];
        let chatHistory = [];
        let currentSession = null;
        let currentFile = null;
        let conversationHistory = [];
        let systemStatus = {};

        // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            createStars();
            setupEventListeners();
            checkAuthState();
            loadSystemStatus();
        }

        // Create Stars
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }

        // Event Listeners Setup
        function setupEventListeners() {
            // Page 1 - Authentication
            document.getElementById('googleSignIn').addEventListener('click', handleGoogleSignIn);
            document.getElementById('githubSignIn').addEventListener('click', handleGitHubSignIn);
            
            // Page 2 - Profile Setup
            document.getElementById('profileForm').addEventListener('submit', handleProfileSubmit);
            
            // Page 3 - Agent Selection
            document.querySelectorAll('.agent-card').forEach(card => {
                card.addEventListener('click', () => selectAgent(card.dataset.agent));
            });
            document.getElementById('continueToChat').addEventListener('click', continueToChat);
            
            // Page 4 - Chat Interface
            setupChatEventListeners();
            
            // Floating Menu
            document.getElementById('floatingMenuBtn').addEventListener('click', toggleFloatingMenu);
            document.getElementById('chatMenuItem').addEventListener('click', () => navigateToPage(4));
            document.getElementById('dashboardMenuItem').addEventListener('click', () => navigateToPage(5));
            document.getElementById('settingsMenuItem').addEventListener('click', () => navigateToPage(6));
            document.getElementById('aboutMenuItem').addEventListener('click', () => navigateToPage(7));
            document.getElementById('githubMenuItem').addEventListener('click', () => navigateToPage(8));
            document.getElementById('logoutMenuItem').addEventListener('click', handleLogout);
            
            // Back buttons
            document.getElementById('dashboardBackBtn').addEventListener('click', () => navigateToPage(4));
            document.getElementById('settingsBackBtn').addEventListener('click', () => navigateToPage(4));
            document.getElementById('aboutBackBtn').addEventListener('click', () => navigateToPage(4));
            document.getElementById('githubBackBtn').addEventListener('click', () => navigateToPage(4));
            
            // GitHub Analysis
            document.getElementById('analyzeRepoBtn').addEventListener('click', analyzeGitHubRepo);
            document.getElementById('askGithubBtn').addEventListener('click', askGithubQuestion);
            
            // Settings
            document.getElementById('saveProfileBtn').addEventListener('click', saveProfileSettings);
            document.getElementById('exportDataBtn').addEventListener('click', exportChatHistory);
            document.getElementById('clearDataBtn').addEventListener('click', clearLocalData);
            
            // File Upload Modal
            document.getElementById('fileUploadBtn').addEventListener('click', () => {
                document.getElementById('fileInput').click();
            });
            document.getElementById('fileInput').addEventListener('change', handleFileSelect);
            document.getElementById('closeModal').addEventListener('click', closeFileModal);
            document.getElementById('filePrompt').addEventListener('input', validateFileUpload);
            document.getElementById('confirmUploadBtn').addEventListener('click', processFileUpload);
        }

        function setupChatEventListeners() {
            // Chat input
            const chatInput = document.getElementById('chatInput');
            chatInput.addEventListener('keydown', handleChatInputKeydown);
            chatInput.addEventListener('input', autoResize);
            
            // Send button
            document.getElementById('sendBtn').addEventListener('click', sendMessage);
            
            // Voice button
            document.getElementById('voiceBtn').addEventListener('click', toggleVoiceRecording);
        }

        // Backend API Functions
        async function callBackendAPI(endpoint, method = 'GET', data = null) {
            try {
                const options = {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json',
                    }
                };

                if (data && method !== 'GET') {
                    options.body = JSON.stringify(data);
                }

                const response = await fetch(`${API_BASE_URL}${endpoint}`, options);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                return await response.json();
            } catch (error) {
                console.error(`API call failed for ${endpoint}:`, error);
                throw error;
            }
        }

        async function loadSystemStatus() {
            try {
                systemStatus = await callBackendAPI('/api/status');
                updateSystemStatusDisplay();
            } catch (error) {
                console.error('Failed to load system status:', error);
            }
        }

        function updateSystemStatusDisplay() {
            const statusElement = document.getElementById('systemStatus');
            if (!statusElement) return;

            const statusItems = [
                { label: 'Professional Agents', status: systemStatus.professional_agents_loaded },
                { label: 'Voice System', status: systemStatus.voice_engine !== 'None' },
                { label: 'GitHub Integration', status: systemStatus.github_integration },
                { label: 'Weather System', status: systemStatus.weather_system_enabled },
                { label: 'Crypto System', status: systemStatus.crypto_system_enabled },
                { label: 'Image Generation', status: systemStatus.image_generation_enabled },
                { label: 'File Processing', status: systemStatus.file_processing_available },
                { label: 'Web Search', status: systemStatus.web_search_available }
            ];

            statusElement.innerHTML = statusItems.map(item => `
                <div class="flex justify-between items-center p-3 bg-gray-800/30 rounded-lg">
                    <span>${item.label}</span>
                    <span class="flex items-center">
                        <div class="status-indicator" style="background: ${item.status ? '#00ff88' : '#ff4444'}"></div>
                        ${item.status ? 'Active' : 'Inactive'}
                    </span>
                </div>
            `).join('');
        }

        // Authentication Functions
        function checkAuthState() {
            firebase.auth().onAuthStateChanged((user) => {
                if (user) {
                    currentUser = user;
                    // Check if profile setup is complete
                    const profileData = localStorage.getItem('profileData');
                    if (!profileData) {
                        navigateToPage(2);
                    } else {
                        navigateToPage(4);
                        initializeChatInterface();
                    }
                } else {
                    navigateToPage(1);
                }
            });
        }

        async function handleGoogleSignIn() {
            try {
                showLoading('Authenticating with Google...');
                const provider = new firebase.auth.GoogleAuthProvider();
                provider.addScope('profile');
                provider.addScope('email');
                
                const result = await firebase.auth().signInWithPopup(provider);
                currentUser = result.user;
                
                showLoadingSuccess('Welcome! Setting up your profile...');
                setTimeout(() => {
                    hideLoading();
                    navigateToPage(2);
                }, 1500);
                
            } catch (error) {
                hideLoading();
                console.error('Google sign-in error:', error);
                showNotification('Authentication failed. Please try again.', 'error');
            }
        }

        async function handleGitHubSignIn() {
            try {
                showLoading('Authenticating with GitHub...');
                const provider = new firebase.auth.GithubAuthProvider();
                provider.addScope('user:email');
                
                const result = await firebase.auth().signInWithPopup(provider);
                currentUser = result.user;
                
                showLoadingSuccess('Welcome! Setting up your profile...');
                setTimeout(() => {
                    hideLoading();
                    navigateToPage(2);
                }, 1500);
                
            } catch (error) {
                hideLoading();
                console.error('GitHub sign-in error:', error);
                showNotification('Authentication failed. Please try again.', 'error');
            }
        }

        async function handleLogout() {
            try {
                await firebase.auth().signOut();
                localStorage.removeItem('profileData');
                localStorage.removeItem('chatHistory');
                navigateToPage(1);
            } catch (error) {
                console.error('Logout error:', error);
                showNotification('Failed to logout. Please try again.', 'error');
            }
        }

        // Profile Setup
        function handleProfileSubmit(e) {
            e.preventDefault();
            
            const profileData = {
                name: document.getElementById('userName').value,
                age: parseInt(document.getElementById('userAge').value),
                role: document.getElementById('userRole').value,
                interest: document.getElementById('userInterest').value,
                email: currentUser.email,
                photoURL: currentUser.photoURL
            };
            
            // Validate
            if (!profileData.name || !profileData.age || !profileData.interest) {
                showNotification('Please fill in all required fields.', 'error');
                return;
            }
            
            if (profileData.age < 18) {
                showNotification('You must be at least 18 years old.', 'error');
                return;
            }
            
            // Save profile data
            localStorage.setItem('profileData', JSON.stringify(profileData));
            
            showLoading('Saving your profile...');
            setTimeout(() => {
                hideLoading();
                navigateToPage(3);
            }, 1000);
        }

        // Agent Selection
        function selectAgent(agentType) {
            // Remove previous selection
            document.querySelectorAll('.agent-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Select new agent
            const selectedCard = document.querySelector(`[data-agent="${agentType}"]`);
            selectedCard.classList.add('selected');
            selectedAgent = agentType;
            
            // Update continue button
            const continueBtn = document.getElementById('continueToChat');
            const agentNames = {
                coding: 'Coding Expert',
                business: 'Business Consultant',
                career: 'Career Coach',
                medical: 'Health Advisor',
                emotional: 'Emotional Counselor',
                general: 'General Assistant'
            };
            
            document.getElementById('selectedAgentName').textContent = agentNames[agentType];
            continueBtn.disabled = false;
        }

        function continueToChat() {
            if (!selectedAgent) return;
            
            showLoading('Initializing your AI assistant...');
            setTimeout(() => {
                hideLoading();
                navigateToPage(4);
                initializeChatInterface();
            }, 1500);
        }

        // Chat Interface
        async function initializeChatInterface() {
            const profileData = JSON.parse(localStorage.getItem('profileData') || '{}');
            
            // Update agent info
            if (selectedAgent) {
                const agentInfo = getAgentInfo(selectedAgent);
                document.getElementById('chatAgentName').textContent = agentInfo.name;
                document.getElementById('chatAgentDesc').textContent = agentInfo.description;
            }
            
            // Initialize session
            currentSession = generateSessionId();
            
            // Load chat history from backend
            await loadConversationHistory();
            
            // Update dashboard
            updateDashboardStats();
        }

        function getAgentInfo(agentType) {
            const agents = {
                coding: { name: 'NOVA Coding Expert', description: 'Programming & Development Specialist' },
                business: { name: 'NOVA Business Consultant', description: 'Strategic Business Advisor' },
                career: { name: 'NOVA Career Coach', description: 'Professional Development Expert' },
                medical: { name: 'Dr. NOVA', description: 'Health & Wellness Advisor' },
                emotional: { name: 'NOVA Counselor', description: 'Emotional Support Specialist' },
                general: { name: 'NOVA Assistant', description: 'Multi-Domain AI Helper' }
            };
            return agents[agentType] || agents.general;
        }

        // Chat Functions with Backend Integration
        function handleChatInputKeydown(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        }

        function autoResize() {
            const textarea = document.getElementById('chatInput');
            textarea.style.height = 'auto';
            textarea.style.height = Math.min(textarea.scrollHeight, 150) + 'px';
        }

        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Clear input
            input.value = '';
            autoResize();
            
            // Add user message to chat
            addMessageToChat('user', message);
            
            // Show typing indicator
            const typingId = addTypingIndicator();
            
            try {
                // Determine if this is a special command
                const specialCommand = detectSpecialCommand(message);
                
                if (specialCommand) {
                    await handleSpecialCommand(specialCommand, message, typingId);
                } else {
                    // Regular chat using /api/chat endpoint
                    const response = await callBackendAPI('/api/chat', 'POST', {
                        text: message,
                        user_id: getUserId(),
                        session_id: currentSession,
                        language: 'en-IN',
                        voice_mode: false
                    });
                    
                    // Remove typing indicator
                    removeTypingIndicator(typingId);
                    
                    // Add bot response to chat
                    addMessageToChat('bot', response.response, {
                        agent_type: response.agent_type,
                        emotion: response.emotion,
                        response_time: response.response_time
                    });
                    
                    // Update dashboard
                    updateDashboardStats();
                }
                
            } catch (error) {
                console.error('Chat error:', error);
                removeTypingIndicator(typingId);
                addMessageToChat('bot', "Sorry, I'm having trouble connecting to my backend services. Please check if the NOVA backend server is running on http://127.0.0.1:8000 and try again.");
            }
        }

        function detectSpecialCommand(message) {
            const lowMessage = message.toLowerCase();
            
            if (lowMessage.includes('weather') || lowMessage.includes('temperature') || lowMessage.includes('forecast')) {
                return 'weather';
            }
            if (lowMessage.includes('search') || lowMessage.includes('find') || lowMessage.includes('lookup')) {
                return 'search';
            }
            if (lowMessage.includes('news') || lowMessage.includes('latest') || lowMessage.includes('current events')) {
                return 'news';
            }
            if (lowMessage.includes('crypto') || lowMessage.includes('bitcoin') || lowMessage.includes('ethereum') || lowMessage.includes('price')) {
                return 'crypto';
            }
            if (lowMessage.includes('generate image') || lowMessage.includes('create image') || lowMessage.includes('draw')) {
                return 'image';
            }
            
            return null;
        }

        async function handleSpecialCommand(command, message, typingId) {
            try {
                let response;
                
                switch (command) {
                    case 'weather':
                        const weatherLocation = extractLocation(message);
                        response = await callBackendAPI('/api/weather', 'POST', {
                            location: weatherLocation,
                            user_id: getUserId()
                        });
                        break;
                        
                    case 'search':
                        const searchQuery = extractSearchQuery(message);
                        response = await callBackendAPI('/api/search/web', 'POST', {
                            query: searchQuery,
                            max_results: 5,
                            user_id: getUserId()
                        });
                        break;
                        
                    case 'news':
                        const newsQuery = extractSearchQuery(message) || 'latest news';
                        response = await callBackendAPI('/api/search/news', 'POST', {
                            query: newsQuery,
                            max_results: 5,
                            user_id: getUserId()
                        });
                        break;
                        
                    case 'crypto':
                        const cryptoSymbols = extractCryptoSymbols(message);
                        if (message.toLowerCase().includes('trending')) {
                            response = await callBackendAPI('/api/crypto/trending?user_id=' + getUserId());
                        } else {
                            response = await callBackendAPI('/api/crypto/prices', 'POST', {
                                symbols: cryptoSymbols,
                                user_id: getUserId()
                            });
                        }
                        break;
                        
                    case 'image':
                        const imagePrompt = extractImagePrompt(message);
                        response = await callBackendAPI('/api/image/generate', 'POST', {
                            prompt: imagePrompt,
                            size: '1024x1024',
                            user_id: getUserId()
                        });
                        break;
                        
                    default:
                        // Fallback to regular chat
                        response = await callBackendAPI('/api/chat', 'POST', {
                            text: message,
                            user_id: getUserId(),
                            session_id: currentSession,
                            language: 'en-IN',
                            voice_mode: false
                        });
                }
                
                // Remove typing indicator
                removeTypingIndicator(typingId);
                
                // Format and display response
                const formattedResponse = formatSpecialResponse(command, response);
                addMessageToChat('bot', formattedResponse);
                
            } catch (error) {
                removeTypingIndicator(typingId);
                addMessageToChat('bot', `Sorry, I encountered an error processing your ${command} request: ${error.message}`);
            }
        }

        function extractLocation(message) {
            const words = message.split(' ');
            const locationWords = words.filter(word => 
                word.length > 3 && 
                !['weather', 'temperature', 'forecast', 'what', 'how', 'the', 'is'].includes(word.toLowerCase())
            );
            return locationWords.length > 0 ? locationWords.join(' ') : null;
        }

        function extractSearchQuery(message) {
            const searchTerms = ['search', 'find', 'lookup', 'google'];
            let query = message;
            
            for (const term of searchTerms) {
                query = query.replace(new RegExp(term, 'gi'), '').trim();
            }
            
            return query || message;
        }

        function extractCryptoSymbols(message) {
            const cryptoMap = {
                'bitcoin': 'bitcoin',
                'btc': 'bitcoin',
                'ethereum': 'ethereum',
                'eth': 'ethereum',
                'binance': 'binancecoin',
                'bnb': 'binancecoin',
                'cardano': 'cardano',
                'ada': 'cardano',
                'solana': 'solana',
                'sol': 'solana'
            };
            
            const symbols = [];
            const words = message.toLowerCase().split(' ');
            
            for (const word of words) {
                if (cryptoMap[word]) {
                    symbols.push(cryptoMap[word]);
                }
            }
            
            return symbols.length > 0 ? symbols : null;
        }

        function extractImagePrompt(message) {
            const imageTerms = ['generate image', 'create image', 'draw', 'make image'];
            let prompt = message;
            
            for (const term of imageTerms) {
                prompt = prompt.replace(new RegExp(term, 'gi'), '').trim();
            }
            
            return prompt || message;
        }

        function formatSpecialResponse(command, response) {
            if (response.error) {
                return `Sorry, I encountered an error: ${response.error}`;
            }

            switch (command) {
                case 'weather':
                    if (response.success) {
                        return `🌤️ Weather in ${response.location}, ${response.country}:
                        
**Temperature:** ${response.temperature}°C (feels like ${response.feels_like}°C)
**Condition:** ${response.description}
**Humidity:** ${response.humidity}%
**Wind Speed:** ${response.wind_speed} m/s
**Pressure:** ${response.pressure} hPa`;
                    }
                    break;
                    
                case 'search':
                    if (response.success && response.results) {
                        let formatted = `🔍 **Search Results for "${response.query}":**\n\n`;
                        response.results.forEach((result, index) => {
                            formatted += `**${index + 1}. ${result.title}**\n`;
                            formatted += `${result.snippet}\n`;
                            formatted += `*Source: ${result.source}*\n\n`;
                        });
                        return formatted;
                    }
                    break;
                    
                case 'news':
                    if (response.success && response.results) {
                        let formatted = `📰 **Latest News:**\n\n`;
                        response.results.forEach((article, index) => {
                            formatted += `**${index + 1}. ${article.title}**\n`;
                            formatted += `${article.snippet}\n`;
                            formatted += `*Source: ${article.source}*\n\n`;
                        });
                        return formatted;
                    }
                    break;
                    
                case 'crypto':
                    if (response.success) {
                        if (response.prices) {
                            let formatted = `💰 **Cryptocurrency Prices:**\n\n`;
                            for (const [symbol, data] of Object.entries(response.prices)) {
                                const change = data.change_24h;
                                const changeEmoji = change > 0 ? '📈' : change < 0 ? '📉' : '➡️';
                                formatted += `**${symbol.toUpperCase()}** ${changeEmoji}\n`;
                                formatted += `USD: ${data.usd.toLocaleString()}\n`;
                                formatted += `INR: ₹${data.inr.toLocaleString()}\n`;
                                formatted += `24h Change: ${change.toFixed(2)}%\n\n`;
                            }
                            return formatted;
                        } else if (response.trending) {
                            let formatted = `🔥 **Trending Cryptocurrencies:**\n\n`;
                            response.trending.forEach((coin, index) => {
                                formatted += `**${index + 1}. ${coin.name} (${coin.symbol})**\n`;
                                formatted += `Market Cap Rank: #${coin.market_cap_rank}\n\n`;
                            });
                            return formatted;
                        }
                    }
                    break;
                    
                case 'image':
                    if (response.success && response.image_url) {
                        return `🖼️ **Image Generated Successfully!**\n\nPrompt: "${response.prompt}"\n\n![Generated Image](${response.image_url})\n\n*Image URL:* ${response.image_url}`;
                    }
                    break;
            }
            
            return response.response || JSON.stringify(response, null, 2);
        }

        function addMessageToChat(sender, message, metadata = {}) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            if (sender === 'bot') {
                messageDiv.innerHTML = `
                    <div class="font-medium text-cyan-400 mb-1">
                        ${getAgentInfo(selectedAgent || 'general').name}
                    </div>
                    <div>${formatMessage(message)}</div>
                `;
            } else {
                messageDiv.innerHTML = `<div>${formatMessage(message)}</div>`;
            }
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            // Save to local history
            saveChatToHistory(sender, message, metadata);
        }

        function formatMessage(message) {
            // Basic markdown formatting
            return message
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/`(.*?)`/g, '<code class="bg-gray-800 px-1 rounded">$1</code>')
                .replace(/!\[([^\]]*)\]\(([^)]+)\)/g, '<img src="$2" alt="$1" class="max-w-full h-auto rounded-lg my-2">')
                .replace(/\n/g, '<br>');
        }

        function addTypingIndicator() {
            const messagesContainer = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            const typingId = 'typing-' + Date.now();
            typingDiv.id = typingId;
            typingDiv.className = 'message bot';
            typingDiv.innerHTML = `
                <div class="font-medium text-cyan-400 mb-1">${getAgentInfo(selectedAgent || 'general').name}</div>
                <div class="flex gap-1">
                    <div class="w-2 h-2 bg-cyan-400 rounded-full animate-bounce"></div>
                    <div class="w-2 h-2 bg-cyan-400 rounded-full animate-bounce" style="animation-delay: 0.2s;"></div>
                    <div class="w-2 h-2 bg-cyan-400 rounded-full animate-bounce" style="animation-delay: 0.4s;"></div>
                </div>
            `;
            
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            return typingId;
        }

        function removeTypingIndicator(typingId) {
            const typingDiv = document.getElementById(typingId);
            if (typingDiv) {
                typingDiv.remove();
            }
        }

        // Voice Functions with Backend Integration
        async function toggleVoiceRecording() {
            if (!isRecording) {
                startVoiceRecording();
            } else {
                stopVoiceRecording();
            }
        }

        async function startVoiceRecording() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                mediaRecorder = new MediaRecorder(stream);
                audioChunks = [];
                
                mediaRecorder.ondataavailable = (event) => {
                    audioChunks.push(event.data);
                };
                
                mediaRecorder.onstop = async () => {
                    const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                    await processVoiceInput(audioBlob);
                };
                
                mediaRecorder.start();
                isRecording = true;
                
                // Update UI
                const voiceBtn = document.getElementById('voiceBtn');
                voiceBtn.classList.add('recording');
                voiceBtn.innerHTML = '<i class="fas fa-stop"></i>';
                voiceBtn.style.background = 'rgba(255, 0, 0, 0.3)';
                
                showNotification('🎤 Recording... Click again to stop', 'info');
                
            } catch (error) {
                console.error('Voice recording error:', error);
                showNotification('Unable to access microphone', 'error');
            }
        }

        function stopVoiceRecording() {
            if (mediaRecorder && isRecording) {
                mediaRecorder.stop();
                mediaRecorder.stream.getTracks().forEach(track => track.stop());
                isRecording = false;
                
                // Update UI
                const voiceBtn = document.getElementById('voiceBtn');
                voiceBtn.classList.remove('recording');
                voiceBtn.innerHTML = '<i class="fas fa-microphone"></i>';
                voiceBtn.style.background = 'rgba(0, 255, 255, 0.2)';
                
                showLoading('🎤 Processing voice input...');
            }
        }

        async function processVoiceInput(audioBlob) {
            try {
                // Convert audio blob to base64
                const arrayBuffer = await audioBlob.arrayBuffer();
                const base64Audio = btoa(String.fromCharCode(...new Uint8Array(arrayBuffer)));
                
                // Call backend /api/voice endpoint
                const response = await callBackendAPI('/api/voice', 'POST', {
                    audio_data: base64Audio,
                    language: 'en-IN',
                    user_id: getUserId()
                });
                
                hideLoading();
                
                if (response.error) {
                    showNotification('Voice processing failed: ' + response.error, 'error');
                    return;
                }
                
                // Add recognized text and response to chat
                addMessageToChat('user', `🎤 [Voice] ${response.response || 'Voice input processed'}`);
                
                if (response.response) {
                    addMessageToChat('bot', response.response);
                }
                
            } catch (error) {
                hideLoading();
                console.error('Voice processing error:', error);
                showNotification('Error processing voice input', 'error');
            }
        }

        // File Upload Functions with Backend Integration
        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            currentFile = file;
            
            // Show file info in modal
            document.getElementById('fileName').textContent = file.name;
            document.getElementById('fileSize').textContent = formatFileSize(file.size);
            
            // Show modal
            document.getElementById('fileModal').classList.add('active');
            
            // Reset prompt
            document.getElementById('filePrompt').value = '';
            document.getElementById('confirmUploadBtn').disabled = true;
        }

        function validateFileUpload() {
            const prompt = document.getElementById('filePrompt').value.trim();
            document.getElementById('confirmUploadBtn').disabled = !prompt;
        }

        function closeFileModal() {
            document.getElementById('fileModal').classList.remove('active');
            document.getElementById('fileInput').value = '';
            currentFile = null;
        }

        async function processFileUpload() {
            if (!currentFile) return;
            
            const prompt = document.getElementById('filePrompt').value.trim();
            if (!prompt) return;
            
            // Close modal
            closeFileModal();
            
            // Add user message to chat
            addMessageToChat('user', `📎 [File: ${currentFile.name}] ${prompt}`);
            
            // Show typing indicator
            const typingId = addTypingIndicator();
            
            try {
                // Create FormData for file upload
                const formData = new FormData();
                formData.append('file', currentFile);
                formData.append('prompt', prompt);
                formData.append('user_id', getUserId());
                
                // Upload file to a temporary location first (in a real app, you'd handle this properly)
                // For now, we'll simulate file processing
                const fileData = {
                    file_path: currentFile.name,
                    user_id: getUserId()
                };
                
                const response = await callBackendAPI('/api/file/process', 'POST', fileData);
                
                // Remove typing indicator
                removeTypingIndicator(typingId);
                
                if (response.error) {
                    addMessageToChat('bot', `❌ File processing failed: ${response.error}`);
                } else {
                    let formattedResponse = `📄 **File Analysis Complete!**\n\n`;
                    formattedResponse += `**File:** ${currentFile.name}\n`;
                    formattedResponse += `**Type:** ${response.file_type || 'Unknown'}\n`;
                    
                    if (response.text) {
                        formattedResponse += `**Content Preview:** ${response.text.substring(0, 200)}...\n`;
                    }
                    if (response.word_count) {
                        formattedResponse += `**Word Count:** ${response.word_count}\n`;
                    }
                    if (response.shape) {
                        formattedResponse += `**Data Shape:** ${response.shape[0]} rows × ${response.shape[1]} columns\n`;
                    }
                    
                    formattedResponse += `\n**Your request:** ${prompt}\n\n`;
                    formattedResponse += `The file has been processed successfully. You can now ask me questions about its content!`;
                    
                    addMessageToChat('bot', formattedResponse);
                }
                
            } catch (error) {
                console.error('File upload error:', error);
                removeTypingIndicator(typingId);
                addMessageToChat('bot', "❌ Sorry, I encountered an error processing your file. Please ensure the backend server is running and try again.");
            }
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // GitHub Analysis Functions with Backend Integration
        async function analyzeGitHubRepo() {
            const repoUrl = document.getElementById('githubRepoUrl').value.trim();
            if (!repoUrl) {
                showNotification('Please enter a GitHub repository URL', 'error');
                return;
            }
            
            // Validate GitHub URL
            if (!isValidGitHubUrl(repoUrl)) {
                showNotification('Please enter a valid GitHub repository URL', 'error');
                return;
            }
            
            showLoading('🔍 Analyzing GitHub repository...');
            
            try {
                // Call backend /api/github/analyze endpoint
                const response = await callBackendAPI('/api/github/analyze', 'POST', {
                    repo_url: repoUrl,
                    user_id: getUserId()
                });
                
                hideLoading();
                
                if (response.error) {
                    document.getElementById('repoAnalysis').textContent = `❌ Analysis failed: ${response.error}`;
                    showNotification('Repository analysis failed', 'error');
                    return;
                }
                
                // Update results
                let analysisText = `✅ **Repository Analysis Complete!**\n\n`;
                analysisText += `**Repository:** ${response.repo_name}\n`;
                analysisText += `**Files Processed:** ${response.files_processed}\n`;
                analysisText += `**Languages:** ${response.languages ? response.languages.join(', ') : 'Multiple'}\n\n`;
                analysisText += `**Analysis:**\n${response.analysis || 'Analysis completed successfully'}\n\n`;
                
                if (response.issues_found && response.issues_found.length > 0) {
                    analysisText += `**Issues Found:**\n`;
                    response.issues_found.forEach(issue => {
                        analysisText += `• ${issue}\n`;
                    });
                    analysisText += '\n';
                }
                
                if (response.suggestions && response.suggestions.length > 0) {
                    analysisText += `**Suggestions:**\n`;
                    response.suggestions.forEach(suggestion => {
                        analysisText += `• ${suggestion}\n`;
                    });
                }
                
                document.getElementById('repoAnalysis').innerHTML = formatMessage(analysisText);
                
                // Show Q&A section
                document.getElementById('githubQASection').style.display = 'block';
                
                // Add to chat
                addMessageToChat('user', `🔍 [GitHub Analysis] ${repoUrl}`);
                addMessageToChat('bot', analysisText);
                
                showNotification('Repository analysis completed!', 'success');
                
            } catch (error) {
                hideLoading();
                console.error('GitHub analysis error:', error);
                showNotification('Error analyzing GitHub repository. Please ensure the backend server is running.', 'error');
                document.getElementById('repoAnalysis').textContent = '❌ Analysis failed: Backend connection error';
            }
        }

        async function askGithubQuestion() {
            const question = document.getElementById('githubQuestion').value.trim();
            if (!question) {
                showNotification('Please enter a question', 'error');
                return;
            }
            
            try {
                showLoading('🤔 Analyzing repository to answer your question...');
                
                const response = await callBackendAPI('/api/github/ask', 'POST', {
                    text: question,
                    user_id: getUserId(),
                    session_id: currentSession
                });
                
                hideLoading();
                
                if (response.error) {
                    document.getElementById('githubAnswer').innerHTML = `❌ ${response.error}`;
                } else {
                    document.getElementById('githubAnswer').innerHTML = formatMessage(response.response);
                }
                
                document.getElementById('githubAnswer').style.display = 'block';
                document.getElementById('githubQuestion').value = '';
                
                // Add to chat
                addMessageToChat('user', `❓ [GitHub Q&A] ${question}`);
                addMessageToChat('bot', response.response || response.error);
                
            } catch (error) {
                hideLoading();
                console.error('GitHub question error:', error);
                showNotification('Error asking repository question', 'error');
                document.getElementById('githubAnswer').innerHTML = '❌ Backend connection error';
                document.getElementById('githubAnswer').style.display = 'block';
            }
        }

        function isValidGitHubUrl(url) {
            return url.match(/^https:\/\/github\.com\/[a-zA-Z0-9_-]+\/[a-zA-Z0-9_-]+(\/)?$/);
        }

        // Memory and History Functions with Backend Integration
        async function loadConversationHistory() {
            try {
                const response = await callBackendAPI(`/api/memory/conversations?user_id=${getUserId()}&limit=15`);
                
                if (response.success && response.conversations) {
                    conversationHistory = response.conversations;
                    
                    // Display recent conversations in chat if any exist
                    if (conversationHistory.length > 0) {
                        const recentConv = conversationHistory[0];
                        // You could add logic here to restore recent conversation context
                    }
                }
            } catch (error) {
                console.error('Failed to load conversation history:', error);
            }
        }

        function saveChatToHistory(sender, message, metadata = {}) {
            const chat = {
                id: Date.now(),
                timestamp: new Date().toISOString(),
                sender: sender,
                message: message.substring(0, 100) + (message.length > 100 ? '...' : ''),
                agent: selectedAgent || 'general',
                metadata: metadata
            };
            
            chatHistory.unshift(chat);
            
            // Keep only last 50 chats
            if (chatHistory.length > 50) {
                chatHistory = chatHistory.slice(0, 50);
            }
            
            // Save to localStorage
            localStorage.setItem('chatHistory', JSON.stringify(chatHistory));
        }

        // Dashboard Functions
        async function updateDashboardStats() {
            try {
                // Load conversation history for stats
                await loadConversationHistory();
                
                // Update total chats
                document.getElementById('totalChats').textContent = conversationHistory.length || chatHistory.length;
                
                // Calculate favorite agent
                const agentCounts = {};
                conversationHistory.forEach(conv => {
                    const agent = conv.agent_type || 'general';
                    agentCounts[agent] = (agentCounts[agent] || 0) + 1;
                });
                
                const favoriteAgent = Object.keys(agentCounts).reduce((a, b) => 
                    agentCounts[a] > agentCounts[b] ? a : b, 'general');
                document.getElementById('favoriteAgent').textContent = favoriteAgent || 'General';
                
                // Update files processed (from localStorage)
                const filesProcessed = JSON.parse(localStorage.getItem('filesProcessed') || '0');
                document.getElementById('filesProcessed').textContent = filesProcessed;
                
                // Update voice usage
                const voiceChats = conversationHistory.filter(conv => conv.message && conv.message.includes('🎤')).length;
                const voicePercentage = conversationHistory.length > 0 ? 
                    Math.round((voiceChats / conversationHistory.length) * 100) : 0;
                document.getElementById('voiceUsage').textContent = voicePercentage + '%';
                
                // Update recent activity
                updateRecentActivity();
                
            } catch (error) {
                console.error('Dashboard update error:', error);
            }
        }

        function updateRecentActivity() {
            const recentActivityEl = document.getElementById('recentActivity');
            if (!recentActivityEl) return;
            
            const recentChats = chatHistory.slice(0, 5);
            
            if (recentChats.length === 0) {
                recentActivityEl.innerHTML = '<div class="text-gray-400">No recent activity</div>';
                return;
            }
            
            recentActivityEl.innerHTML = recentChats.map(chat => `
                <div class="flex justify-between items-center p-3 bg-gray-800/30 rounded-lg">
                    <div>
                        <div class="font-medium">${chat.sender === 'user' ? 'You' : 'NOVA'}: ${chat.message}</div>
                        <div class="text-xs text-gray-400">${formatTimestamp(chat.timestamp)}</div>
                    </div>
                    <div class="text-sm text-cyan-400">${chat.agent}</div>
                </div>
            `).join('');
        }

        // Settings Functions
        async function saveProfileSettings() {
            const profileData = JSON.parse(localStorage.getItem('profileData') || '{}');
            
            profileData.name = document.getElementById('settingsDisplayName').value;
            profileData.age = parseInt(document.getElementById('settingsAge').value);
            profileData.role = document.getElementById('settingsRole').value;
            
            localStorage.setItem('profileData', JSON.stringify(profileData));
            showNotification('Profile settings saved!', 'success');
        }

        async function exportChatHistory() {
            try {
                const response = await callBackendAPI(`/api/memory/conversations?user_id=${getUserId()}&limit=1000`);
                
                let dataToExport = chatHistory;
                if (response.success && response.conversations) {
                    dataToExport = response.conversations;
                }
                
                const dataStr = JSON.stringify(dataToExport, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                
                const link = document.createElement('a');
                link.href = URL.createObjectURL(dataBlob);
                link.download = `nova-chat-history-${new Date().toISOString().split('T')[0]}.json`;
                link.click();
                
                showNotification('Chat history exported!', 'success');
                
            } catch (error) {
                console.error('Export error:', error);
                showNotification('Export failed', 'error');
            }
        }

        function clearLocalData() {
            if (confirm('Are you sure you want to clear all local data? This cannot be undone.')) {
                localStorage.removeItem('profileData');
                localStorage.removeItem('chatHistory');
                localStorage.removeItem('filesProcessed');
                chatHistory = [];
                conversationHistory = [];
                showNotification('Local data cleared!', 'success');
                updateDashboardStats();
            }
        }

        // Utility Functions
        function getUserId() {
            return currentUser ? currentUser.uid : 'anonymous_user';
        }

        function generateSessionId() {
            return 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        function formatTimestamp(timestamp) {
            const date = new Date(timestamp);
            const now = new Date();
            const diffMs = now - date;
            const diffMins = Math.floor(diffMs / 60000);
            const diffHours = Math.floor(diffMs / 3600000);
            const diffDays = Math.floor(diffMs / 86400000);
            
            if (diffMins < 1) return 'Just now';
            if (diffMins < 60) return `${diffMins}m ago`;
            if (diffHours < 24) return `${diffHours}h ago`;
            return `${diffDays}d ago`;
        }

        function toggleFloatingMenu() {
            document.getElementById('floatingMenu').classList.toggle('active');
        }

        function navigateToPage(pageNumber) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show target page
            document.getElementById(`page${pageNumber}`).classList.add('active');
            currentPage = pageNumber;
            
            // Hide floating menu
            document.getElementById('floatingMenu').classList.remove('active');
            
            // Initialize page-specific content
            if (pageNumber === 4) {
                initializeChatInterface();
            } else if (pageNumber === 5) {
                updateDashboardStats();
            } else if (pageNumber === 6) {
                loadSettingsData();
            } else if (pageNumber === 7) {
                loadSystemStatus();
            }
        }

        function loadSettingsData() {
            const profileData = JSON.parse(localStorage.getItem('profileData') || '{}');
            
            document.getElementById('settingsDisplayName').value = profileData.name || '';
            document.getElementById('settingsEmail').value = profileData.email || '';
            document.getElementById('settingsAge').value = profileData.age || '';
            document.getElementById('settingsRole').value = profileData.role || '';
        }

        function showLoading(message = 'Loading...') {
            const overlay = document.getElementById('loadingOverlay');
            const messageEl = document.getElementById('loadingMessage');
            messageEl.textContent = message;
            overlay.classList.remove('hidden');
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').classList.add('hidden');
        }

        function showLoadingSuccess(message) {
            const content = document.querySelector('.loading-content');
            content.innerHTML = `
                <div class="success-check"></div>
                <p class="text-xl font-semibold text-green-400">${message}</p>
            `;
        }

        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-sm transition-all duration-300 transform translate-x-full`;
            
            // Set colors based on type
            const colors = {
                info: 'bg-blue-600 border-blue-500',
                success: 'bg-green-600 border-green-500',
                error: 'bg-red-600 border-red-500',
                warning: 'bg-yellow-600 border-yellow-500'
            };
            
            notification.className += ` ${colors[type] || colors.info} border-l-4 text-white`;
            notification.innerHTML = `
                <div class="flex items-center">
                    <i class="fas fa-${type === 'error' ? 'exclamation-circle' : type === 'success' ? 'check-circle' : 'info-circle'} mr-2"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 5000);
        }

        // Quick Action Functions - These can be triggered from chat
        window.getWeather = async function(location = null) {
            try {
                const response = await callBackendAPI('/api/weather', 'POST', {
                    location: location,
                    user_id: getUserId()
                <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOVA-AI | Next-Generation AI Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }
        
        body {
            background: #0a0a0f;
            color: #ffffff;
            overflow-x: hidden;
        }
        
        /* Animated Background */
        .cosmic-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, #1a1a2e 0%, #16213e 30%, #0f0f23 70%, #000000 100%);
            z-index: -2;
        }
        
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffffff;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        /* Floating Orbs */
        .floating-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(2px);
            animation: float 20s infinite linear;
        }
        
        .orb-1 {
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(0, 255, 255, 0.3) 0%, transparent 70%);
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }
        
        .orb-2 {
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, rgba(138, 43, 226, 0.3) 0%, transparent 70%);
            top: 60%;
            right: 15%;
            animation-delay: 7s;
        }
        
        .orb-3 {
            width: 120px;
            height: 120px;
            background: radial-gradient(circle, rgba(0, 191, 255, 0.2) 0%, transparent 70%);
            bottom: 30%;
            left: 5%;
            animation-delay: 14s;
        }
        
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(100px, -100px) rotate(120deg); }
            66% { transform: translate(-50px, 50px) rotate(240deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }
        
        /* Page Container */
        .page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1;
            overflow-y: auto;
        }
        
        .page.active {
            opacity: 1;
            visibility: visible;
            z-index: 2;
        }
        
        /* Main Container */
        .main-container {
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 255, 0.2);
            box-shadow: 
                0 0 60px rgba(0, 255, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            position: relative;
            overflow: hidden;
        }
        
        .main-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.8), transparent);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Logo Container */
        .logo-container {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto 2rem;
            background: linear-gradient(135deg, #00ffff, #8a2be2);
            border-radius: 24px;
            padding: 3px;
            animation: glow-pulse 4s ease-in-out infinite;
        }
        
        .logo-inner {
            width: 100%;
            height: 100%;
            background: #0a0a0f;
            border-radius: 21px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: 900;
            color: #00ffff;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }
        
        @keyframes glow-pulse {
            0%, 100% { 
                box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 0 50px rgba(0, 255, 255, 0.6);
                transform: scale(1.05);
            }
        }
        
        /* Auth Buttons */
        .auth-btn, .nova-btn {
            position: relative;
            width: 100%;
            padding: 16px 24px;
            border: 2px solid transparent;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
            overflow: hidden;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            cursor: pointer;
        }
        
        .auth-btn::before, .nova-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .auth-btn:hover::before, .nova-btn:hover::before {
            left: 100%;
        }
        
        .google-btn {
            background: linear-gradient(135deg, #ffffff, #f0f0f0);
            color: #333;
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        .google-btn:hover {
            background: linear-gradient(135deg, #f8f8f8, #e8e8e8);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .github-btn {
            background: linear-gradient(135deg, #24292e, #1a1e22);
            color: #ffffff;
            border-color: rgba(0, 255, 255, 0.3);
        }
        
        .github-btn:hover {
            background: linear-gradient(135deg, #2f363d, #24292e);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.2);
        }
        
        .nova-btn-primary {
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            border-color: rgba(0, 255, 255, 0.5);
        }
        
        .nova-btn-primary:hover {
            background: linear-gradient(135deg, #00e6e6, #0066cc);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
        }
        
        .nova-btn-secondary {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.8), rgba(138, 43, 226, 0.6));
            color: #ffffff;
            border-color: rgba(138, 43, 226, 0.5);
        }
        
        .nova-btn-secondary:hover {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.9), rgba(138, 43, 226, 0.7));
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(138, 43, 226, 0.3);
        }
        
        /* Form Elements */
        .nova-input {
            width: 100%;
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 16px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .nova-input:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.08);
        }
        
        .nova-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        /* Agent Cards */
        .agent-card {
            background: rgba(16, 16, 24, 0.8);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 20px;
            padding: 24px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .agent-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .agent-card:hover::before {
            left: 100%;
        }
        
        .agent-card:hover {
            transform: translateY(-8px);
            border-color: rgba(0, 255, 255, 0.6);
            box-shadow: 0 20px 40px rgba(0, 255, 255, 0.2);
        }
        
        .agent-card.selected {
            border-color: rgba(0, 255, 255, 0.8);
            background: rgba(0, 255, 255, 0.1);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }
        
        .agent-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 16px;
            background: linear-gradient(135deg, #00ffff, #8a2be2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #000;
            font-weight: bold;
        }
        
        /* Chat Interface */
        .chat-container {
            height: 100vh;
            display: flex;
            background: rgba(10, 10, 15, 0.95);
        }
        
        .chat-sidebar {
            width: 300px;
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(0, 255, 255, 0.2);
            padding: 20px;
            overflow-y: auto;
        }
        
        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .chat-header {
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .chat-input-container {
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(0, 255, 255, 0.2);
            padding: 20px;
        }
        
        .message {
            max-width: 80%;
            padding: 16px 20px;
            border-radius: 20px;
            position: relative;
            animation: fadeInUp 0.3s ease;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .message.user {
            align-self: flex-end;
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            margin-left: auto;
        }
        
        .message.bot {
            align-self: flex-start;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 255, 255, 0.2);
            color: #ffffff;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .chat-input {
            width: 100%;
            padding: 16px 60px 16px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 25px;
            color: #ffffff;
            font-size: 16px;
            resize: none;
            min-height: 50px;
            max-height: 150px;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
        }
        
        .chat-actions {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 8px;
        }
        
        .action-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(0, 255, 255, 0.2);
            border: none;
            color: #00ffff;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .action-btn:hover {
            background: rgba(0, 255, 255, 0.4);
            transform: scale(1.1);
        }
        
        /* Typewriter Effect */
        .typewriter {
            border-right: 2px solid rgba(0, 255, 255, 0.8);
            white-space: nowrap;
            overflow: hidden;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: rgba(0, 255, 255, 0.8); }
        }
        
        /* Loading Animation */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .loading-content {
            text-align: center;
            color: #00ffff;
        }
        
        .spinner {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(0, 255, 255, 0.3);
            border-top: 3px solid #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Success Animation */
        .success-check {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid #00ff88;
            margin: 0 auto 20px;
            position: relative;
            animation: pulse-green 1.5s ease-in-out infinite;
        }
        
        .success-check::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #00ff88;
            font-size: 2rem;
            font-weight: bold;
        }
        
        @keyframes pulse-green {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 136, 0.3); }
            50% { box-shadow: 0 0 40px rgba(0, 255, 136, 0.6); }
        }
        
        /* History Item */
        .history-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(0, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .history-item:hover {
            background: rgba(0, 255, 255, 0.05);
            border-color: rgba(0, 255, 255, 0.3);
        }
        
        /* Status indicators */
        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #00ff88;
            animation: pulse 2s infinite;
            margin-right: 8px;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Floating Menu Button */
        .floating-menu-btn {
            position: fixed;
            top: 30px;
            left: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00ffff, #8a2be2);
            color: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .floating-menu-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
        }
        
        .floating-menu {
            position: fixed;
            top: 100px;
            left: 30px;
            background: rgba(16, 16, 24, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 15px;
            padding: 15px;
            display: none;
            flex-direction: column;
            gap: 10px;
            z-index: 99;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .floating-menu.active {
            display: flex;
        }
        
        .menu-item {
            padding: 12px 20px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #ffffff;
            text-decoration: none;
        }
        
        .menu-item:hover {
            background: rgba(0, 255, 255, 0.1);
        }
        
        /* GitHub Analysis Page */
        .github-analysis {
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .github-input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .github-input {
            flex: 1;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 16px;
        }
        
        .github-input:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
        }
        
        .analyze-btn {
            padding: 16px 24px;
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .analyze-btn:hover {
            background: linear-gradient(135deg, #00e6e6, #0066cc);
        }
        
        .github-results {
            background: rgba(16, 16, 24, 0.8);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }
        
        .result-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #00ffff;
        }
        
        .result-content {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            white-space: pre-wrap;
            overflow-x: auto;
            font-size: 14px;
            line-height: 1.5;
        }
        
        /* File Upload Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal {
            background: rgba(16, 16, 24, 0.95);
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(0, 255, 255, 0.3);
            box-shadow: 0 0 40px rgba(0, 255, 255, 0.2);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: #00ffff;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: #ffffff;
            font-size: 24px;
            cursor: pointer;
        }
        
        .file-preview {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .file-icon {
            font-size: 60px;
            color: #00ffff;
            margin-bottom: 10px;
        }
        
        .file-name {
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .file-size {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .upload-prompt {
            width: 100%;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 16px;
            margin-bottom: 20px;
            min-height: 100px;
            resize: vertical;
        }
        
        .upload-prompt:focus {
            outline: none;
            border-color: rgba(0, 255, 255, 0.6);
        }
        
        .upload-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #00ffff, #0080ff);
            color: #000;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .upload-btn:hover {
            background: linear-gradient(135deg, #00e6e6, #0066cc);
        }
        
        .upload-btn:disabled {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
            cursor: not-allowed;
        }
        
        /* Dashboard Cards */
        .dashboard-card {
            background: rgba(16, 16, 24, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: 800;
            color: #00ffff;
        }
        
        .settings-option {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;